           Universidad Nacional del Altiplano
    FACULTAD DE INGENIERÍA MECÁNICA ELÉCTRICA,
             ELECTRÓNICA Y SISTEMAS


   ESCUELA PROFESIONAL DE INGENIERÍA ELECTRÓNICA




                         TESIS
DISEÑO E IMPLEMENTACIÓN DE UN SISTEMA DE CONTROL Y
SUPERVISIÓN DISTRIBUIDO MULTIPLATAFORMA UTILIZANDO
   EL ENTORNO DE PROGRAMACIÓN DELPHI Y FIREBIRD


                  PRESENTADO POR:
          JOHN ARMANDO GALINDO QUISPE


        PARA OPTAR EL TÍTULO PROFESIONAL DE:
              INGENIERO ELECTRÓNICO


                     PUNO - PERÚ
                         2015
ÁREA: Automatización e instrumentación

TEMA: Instrumentación y control de procesos
                    DEDICATORIA

       Si ahora puedo escribir estas palabras y
experimentar la sensación de realizar mis ideales, es
gracias a la insensata mescla de cierta dosis de buen
   sentido de locura y algo más de terca y mágica
    perseverancia que me heredaron mis padres:
     Gregoria Quispe Q. y Simón C. Galindo C.
 Son increíbles los momentos que me tocó vivir, tan
cortos, tan eternos, pero más que cualquier otra cosa,
       por su inmenso sacrificio, tan infinito.
                                 AGRADECIMIENTO

       Debo agradecer infinitamente y de manera muy especial a todos mis hermanos,
pues siempre están cerca de algún modo, apoyándome incondicionalmente, dándome
lecciones con sus experiencias vividas, acompañándome. Pues de hecho, mi
personalidad con todos mis defectos y virtudes la cultivamos juntos. Es necesario
aprender de nosotros mismos, dialogar, compartir; pero el tiempo pasa tan
repentinamente, tan insolente e irrespetuosa que solo nos queda un momento para
conocernos un poco más, una vez más en la vida.

       Se aprende mucho de los demás. Soy de los que piensan que las personas se
muestran como son, solo en los momentos más críticos y es en esos instantes en los que
mejor se conoce a los que nos rodean. Pero en nuestras vidas lo importante es el tiempo
compartido con los que nos rodean, aprendiendo juntos, preparándonos de alguna
manera para la vida, intentando ser profesionales. Agradezco todo lo aprendido a mis
amigos más cercanos, a mis amigos más que compañeros de la universidad y a los
docentes que nos formaron. Es digno de admirar en las personas el valor de compartir
información sin alguna condición, haciéndola institución, encaminándonos hacia una
mejor sociedad. Es preciso recordar entonces, aquella expresión que nos recuerda que
hay veces olvidamos que cuando alguien nos dedica su tiempo, aunque sea un instante,
nos está regalando lo único que no recuperara jamás.

       Debo mencionar que haber realizado mis ideales, es la mejor sensación que he
podido experimentar, fue como sentirse nuevamente un niño, es realmente increíble. A
los que me rodean, decirles que nunca dejen de luchar por ver realizado sus ideales,
hagamos algo cada día para ver realizado nuestros sueños y estar cada día más cerca de
algo realmente increíble y el día que lo hagan, se darán cuenta que es la mayor y mejor
satisfacción personal que hayan podido experimentar. Pienso que no hay nada más
importante en nuestro desarrollo personal y emocional más que profesional, para ser
mejores personas y enfocarnos hacia una nueva sociedad.
                                       ÍNDICE


DEDICATORIA

AGRADECIMIENTO

RESUMEN                                                                  13
ABSTRACT                                                                 14
INTRODUCCIÓN                                                             15


CAPITULO I                                                               18


PLANTEAMIENTO DEL PROBLEMA DE INVESTIGACIÓN                              18


1.1       DESCRIPCIÓN DEL PROBLEMA                                       19
1.1.1 FORMULACIÓN DEL PROBLEMA                                           19
1.1.2 PROBLEMA GENERAL                                                   20
1.1.3 PROBLEMAS ESPECÍFICOS                                              20
1.2.      JUSTIFICACIÓN DEL PROBLEMA                                     21
1.2.1 JUSTIFICACIÓN TÉCNICA                                              21
1.2.2 JUSTIFICACIÓN ECONÓMICA                                            22
1.2.3 JUSTIFICACIÓN SOCIAL                                               22
1.3.      OBJETIVOS DE LA INVESTIGACIÓN                                  23
1.3.1 OBJETIVO GENERAL                                                   23
1.3.2 OBJETIVOS ESPECÍFICOS                                              23


CAPITULO II                                                              24


MARCO TEÓRICO                                                            24


2.1       ANTECEDENTES DE LA INVESTIGACIÓN                               25
2.1.1 DISEÑO DE SISTEMAS SCADA CON CONEXIÓN A BASES DE DATOS, VISUALIZACIÓN
          Y CONTROL EN DISPOSITIVOS MÓVILES.                             25
2.1.2 DESARROLLO DE UN SISTEMA SCADA PARA USO EN PEQUEÑAS Y MEDIANAS
          EMPRESAS.                                                      26
2.1.3 SISTEMA DE CONTROL Y SUPERVISIÓN INDUSTRIAL MULTIPLATAFORMA.       28
2.1.4 SISTEMA DE CONTROL INALÁMBRICO: DISEÑO, CONSTRUCCIÓN Y APLICACIÓN EN
          CALDERA INDUSTRIAL                                             30
2.2.      SUSTENTO TEÓRICO                                               32
2.2.1 TEORIA GENERAL DE LOS SISTEMAS DE CONTROL                          32
2.2.1.1     CLASIFICACIÓN DE LOS SISTEMAS DE CONTROL                     33
A)   CON RESPECTO A SU CAUSALIDAD                                       33
B)   CON RESPECTO AL PRINCIPIO FÍSICO                                   34
C)   CON RESPECTO A LA ECUACIÓN QUE LO DESCRIBE                         34
D)   CON RESPECTO A SU NÚMERO DE ENTRADAS Y SALIDAS.                    34
E)   CON RESPECTO AL TIPO DE SEÑALES QUE SE PROCESAN                    35
F)   CON RESPECTO AL COMPORTAMIENTO O TRATAMIENTO DE LA SEÑAL DE SALIDA 36
G)   CON RESPECTO A LA ARQUITECTURA DE CONTROL                          38
CONTROL CENTRALIZADO                                                    38
CONTROL DESCENTRALIZADO DE ENTRADAS Y SALIDAS                           38
CONTROL SUPERVISADO                                                     39
CONTROL DISTRIBUIDO                                                     39
CONTROL, SUPERVISIÓN Y GESTIÓN                                          40
2.2.1.2   SISTEMA DE CONTROL DISTRIBUIDO                                41
PROPIEDADES DE LOS SISTEMAS DISTRIBUIDOS                                41
A)   FLEXIBILIDAD                                                       41
B)   EFICIENCIA                                                         42
C)   ROBUSTEZ                                                           43
D)   SEGURIDAD                                                          45
2.2.2 AUTOMATIZACIÓN E INTEGRACIÓN DE TECNOLOGÍAS                       46
2.2.3 TEORÍA ENFOCADA AL PROCESO DE IMPLEMENTACIÓN                      47
2.2.3.1   SISTEMA FÍSICO O PLANTA                                       48
A)   PLANTA.                                                            48
B)   SISTEMA DINÁMICO                                                   48
C)   COMPORTAMIENTO                                                     49
D)   SEÑAL                                                              49
E)   MODELADO                                                           50
F)   ECUACIONES DIFERENCIALES Y EN DIFERENCIAS                          50
G)   LINEALIZACIÓN Y SISTEMAS LIT                                       51
H)   TRANSFORMADA DE LAPLACE Y TRANSFORMADA Z                           52
I)   FUNCIÓN DE TRANSFERENCIA Y ECUACIÓN DE ESTADO                      54
J)   NOCIÓN DE DISEÑO                                                   55
K)   DIAGRAMAS DE BLOQUES                                               56
2.2.3.2   SISTEMA DE DATOS MUESTREADOS                                  57
A)   DIGITALIZACIÓN                                                     58
B)   ALIASING.                                                          60
C)   ADQUISICIÓN DE DATOS                                               60
2.2.3.3   PROCESAMIENTO Y BASE DE DATOS                                 61
A)   PROCESAMIENTO                                                      62
B)   FILTROS                                                            62
C)   ELIMINACIÓN DE RUIDO                                               62
D)    ALGORITMOS                                                63
E)    BASE DE DATOS                                             63
F)    GESTORES DE BASES DE DATOS                                64
2.2.3.4     SISTEMAS DE COMUNICACIÓN O RED DE DATOS             64
A)    REDES DE ÁREA LOCAL (LAN)                                 65
B)    PROTOCOLOS                                                65
C)    ETHERNET                                                  65
D)    ETHERNET INDUSTRIAL                                       66
E)    ARQUITECTURA                                              67
F)    ESTANDARIZACIÓN                                           69
2.2.3.5     APLICACIONES DE CONTROL Y SUPERVISIÓN               69
A)    PROGRAMAS O APLICACIONES INFORMÁTICAS                     69
B)    RELACIÓN ENTRE SOFTWARE Y HARDWARE                        70
2.3       GLOSARIO DE TÉRMINOS BÁSICOS                          71
2.4       HIPÓTESIS DE LA INVESTIGACIÓN                         81
2.4.1 HIPÓTESIS GENERAL                                         81
2.4.2 HIPÓTESIS ESPECÍFICA                                      81
2.5       OPERACIONALIZACION DE VARIABLES                       82


CAPITULO III                                                    83


DISEÑO METODOLÓGICO DE INVESTIGACIÓN                            83


3.1       TIPO Y DISEÑO DE INVESTIGACIÓN                        84
3.1.1 TIPO DE INVESTIGACIÓN                                     84
3.1.2 DISEÑO DE INVESTIGACIÓN                                   84
3.1.3 METODOLOGÍA DE INVESTIGACIÓN                              85
3.2       POBLACIÓN Y MUESTRA DE INVESTIGACIÓN                  86
3.2.1 POBLACIÓN DE LA INVESTIGACIÓN                             86
3.2.2 MUESTRA DE LA INVESTIGACIÓN                               86
3.2.3 UBICACIÓN Y DESCRIPCIÓN DE LA POBLACIÓN                   86
3.3       MATERIAL EXPERIMENTAL                                 87
3.3.1 PROTOTIPO DE CONTROL DE NIVEL                             87
3.3.2 DISPOSITIVO DE ADQUISICIÓN DE DATOS                       87
3.3.3 COMPUTADORAS PERSONALES                                   88
3.3.4 DISPOSITIVOS MÓVILES                                      88
3.3.5 CAPA FÍSICA DE RED                                        89
3.3.6 PROGRAMAS UTILIZADOS                                      91
3.4       TÉCNICAS E INSTRUMENTOS PARA RECOLECTAR INFORMACIÓN   93
3.4.1 TÉCNICAS                                                  93
3.4.2 MEDICIÓN                                               93
3.4.3 REVISIÓN DE HOJAS DE DATOS                             93
3.4.4 INSTRUMENTOS                                           93
3.5       TÉCNICAS DE PROCESAMIENTO Y ANÁLISIS DE DATOS      94
3.5.1 PROCESAMIENTO DE DATOS                                 94
3.5.2 PRESENTACIÓN DE LOS DATOS EN UNA INTERFAZ GRÁFICA      94
3.5.3 CRITERIOS DE ELECCIÓN                                  94
3.5.4 PROCEDIMIENTO DEL EXPERIMENTO                          95
3.5.5 PLAN DE TRATAMIENTO DE DATOS                           97
3.5.6 DISEÑO ESTADÍSTICO PARA PRUEBA DE HIPÓTESIS            97


CAPITULO IV                                                  99


ANÁLISIS E INTERPRETACIÓN DE RESULTADOS                      99


4.1       ANÁLISIS                                          100
4.1.1 PLANTA O SISTEMA FÍSICO                               101
4.1.1.1     MODELADO                                        102
4.1.1.2     LINEALIZACIÓN DEL MODELO                        104
4.1.2 SISTEMA DE DATOS MUESTREADOS                          106
4.1.2.1     DISEÑO DEL CIRCUITO                             106
4.1.2.2     PROGRAMACIÓN DEL DISPOSITIVO                    108
4.1.3 PROCESAMIENTO Y BASE DE DATOS                         112
4.1.3.1     INTERFAZ DE DIGITALIZACIÓN DEDICADO O CLIENTE   113
4.1.3.2 SERVIDORES DE APLICACIÓN                            115
INTERFAZ DE USUARIO DEL SERVIDOR DE APLICACIONES.           116
4.1.3.3 CREACIÓN DE LA BASE DE DATOS                        116
4.1.3.4 SERVICIOS REST                                      118
4.1.4 SISTEMAS DE COMUNICACIÓN O RED DE DATOS               118
4.1.5 APLICACIONES DE CONTROL Y SUPERVISIÓN                 120
A)    DISCRETIZACIÓN DEL SISTEMA DINÁMICO                   121
B)    DISCRETIZACIÓN DEL FILTRO PASA BAJOS                  122
C)    DISCRETIZACIÓN DEL ALGORITMO DE CONTROL PID           124
4.1.5.1     IMPLEMENTACIÓN DE LA INTERFAZ DE USUARIO        125
A)    INTERFAZ DE USUARIO PARA COMPUTADORAS PERSONALES      126
B)    INTERFAZ DE USUARIO PARA DISPOCITIVO CELULAR          127
4.1.5.2     FUNCIONES ADICIONALES DEL SISTEMA               128
A)    NOTIFICACIONES Y ALARMAS                              128
B)    PROGRAMACIÓN DE TAREAS                                128
C)    GENERACION DE INFORMES                                129
D)    INTEGRACIÓN CON OTRAS APLICACIONES                       129
4.1.5.3     CARACTERÍSTICAS DE LAS APLICACIONES INALÁMBRICAS   130
4.2       INTERPRETACIÓN DE RESULTADOS                         132
4.2.1 INTERPRETACIÓN DE RESULTADOS EN FLEXIBILIDAD             132
4.2.2 INTERPRETACIÓN DE RESULTADOS EN EFICIENCIA               132
4.2.3 INTERPRETACIÓN DE RESULTADOS EN ROBUSTEZ                 133
4.2.4 INTERPRETACIÓN DE RESULTADOS EN SEGURIDAD                133
CONCLUSIONES                                                   134
SUGERENCIAS O RECOMENDACIONES                                  136
BIBLIOGRAFÍA                                                   138
ANEXOS                                                         140
                         ÍNDICE DE CUADROS
Tabla Nº 1   OPERACIONALIZACIÓN DE VARIABLES DE ACUERDO A LOS
             OBJETIVOS DE ESTUDIO                               82
                           ÍNDICE DE GRÁFICOS
Grafica Nº 1   GRAFICA REFERENCIAL DEL PROCEDIMIENTO DE EXPERIMENTACIÓN
                                                                              96
Grafica Nº 2   VARIACIÓN DEL SENSOR DE VOLTAJE DE SALIDA Y NIVEL DE TANQUE
                                                                             101
Grafica Nº 3   LAS SOLUCIONES SMART WIRELESS REDUCEN LOS COSTOS DE
               INSTALACIÓN HASTA EN UN 90%, PERMITIENDO AL USUARIO
               PROPORCIONAR UNA RENTABILIDAD SÓLIDA DEL PROYECTO.
               FUENTE: EMERSON - PROCES MANAGEMENT                           131
                            ÍNDICE DE FIGURAS

Figura Nº 1    ESQUEMA BÁSICO DE UN SISTEMA DE CONTROL, LA SALIDA DEL
               SISTEMA SE DEBE A LA INTERACCIÓN DE LA ENTRADA CON EL
               PROCESO
                                                                           32
Figura Nº 2    ELEMENTOS DE SISTEMA DE CONTROL A LAZO ABIERTO
                                                                           36
Figura Nº 3    ELEMENTOS DE SISTEMA DE CONTROL A LAZO CERRADO
                                                                           37
Figura Nº 4    DIAGRAMA FUNCIONAL DE SISTEMA DE CONTROL CENTRALIZADO:
               A) PROCESADOR CENTRAL, B) COMPUTADORA PERSONAL, C)
               ENTRADAS DESDE SENSORES Y MEDIDORES, D) SALIDAS HACIA LOS
               ACTUADORES
                                                                           38
Figura Nº 5    DIAGRAMA FUNCIONAL DE UN SISTEMA DE CONTROL
               DESCENTRALIZADO: A) PROCESADOR CENTRAL, B) COMPUTADORA
               PERSONAL, C) DISPOSITIVOS DE ENTRADA Y SALIDA DISTRIBUIDA
                                                                           38
Figura Nº 6    DIAGRAMA FUNCIONAL DE UN SISTEMA DE CONTROL
               SUPERVISADO: A) COMPUTADORA PERSONAL, B) SISTEMA MÍNIMO
               DE CONTROL, C) PROCESADOR LOCAL. D) DISPOSITIVOS DE
               ENTRADA Y SALIDA
                                                                           39
Figura Nº 7    DIAGRAMA FUNCIONAL DE UN SISTEMA DE CONTROL DISTRIBUIDO:
               A) PROCESADOR CENTRAL, B) COMPUTADORA PERSONAL, C)
               SISTEMA MÍNIMO DE CONTROL. D) PROCESADOR LOCAL, E)
               DISPOSITIVOS DE ENTRADA Y SALIDA
                                                                           40
Figura Nº 8    DIAGRAMA FUNCIONAL DE UN SISTEMA DE CONTROL SUPERVISIÓN
               Y GESTIÓN: A) COMPUTADORA PERSONAL B) GESTIÓN DE
               INFORMACIÓN, C) PROCESADOR CENTRAL. D) SISTEMA MÍNIMO DE
               CONTROL E) PROCESADOR LOCAL, F) DISPOSITIVOS DE ENTRADA Y
               SALIDA
                                                                           41
Figura Nº 9    PIRÁMIDE DE AUTOMATIZACIÓN IZQUIERDA MODELO TEÓRICO CIM,
               DERECHA MODELO REAL TIA. AL IMPELMENTAR EL MODELO CIM EN
               UNA EMPRESA REAL LOS NIVELES DE CONTROL Y SUPERVICION SE
               FUCIONAN PARA SER PARTE DE UN SOLO NIVEL DE SISTEMAS DE
               CONTROL
                                                                           46
Figura Nº 10   UN BLOQUE COMO ELEMENTO
                                                                           56
Figura Nº 11   DETECTOR DE ERROR EN LA IZQUIERDA Y PUNTO DE BIFURCACIÓN
               A LA DERECHA
                                                                           56
Figura Nº 12   MUESTREADOR IDEAL UNIFORME REPRESENTADA DE FORMA
               APROXIMADA DESDE LA VELOCIDAD ANGULAR IMAGINARIA DEL
               INTERRUPTOR
                                                                           58
Figura Nº 13   PARTES DE UN SISTEMA DE ADQUISICIÓN DE DATOS
                                                                           60
Figura Nº 14   SUBSISTEMAS DE UN SISTEMA DE ADMINISTRACIÓN DE BASES DE
               DATOS O SISTEMA DE GESTIÓN DE BASE DE DATOS
                                                                           64
Figura Nº 15   ARQUITECTURA CLIENTE-SERVIDOR
                                                                           67
Figura Nº 16   ARQUITECTURA PEER-TO-PEER
                                                                           67
Figura Nº 17   ARQUITECTURA SERVIDO PROXY
                                                                           68
Figura Nº 18   SISTEMAS COMPATIBLES
                                                                           68
Figura Nº 19   EXPLICACIÓN GRAFICA DE INTEGRACIÓN DE SEÑAL Y SISTEMA
                                                                           71
Figura Nº 20   CAPA DE SOFTWARE MIDDLEWARE
                                                                              78
Figura Nº 21   ESQUEMA GENERAL DEL SISTEMA DESARROLLADO
                                                                             100
Figura Nº 22   SISTEMA FÍSICO PARA EL CONTROL DE NIVEL DE AGUA EN UN
               RESERVORIO
                                                                             101
Figura Nº 23   UN FLUIDO EN FLUJO LAMINAR A TRAVÉS DE UNA TUBERÍA QUE SE
               ESTRECHA. EL VOLUMEN DE LA PORCIÓN SOMBREADA A LA
               IZQUIERDA ES IGUAL AL VOLUMEN DE LA PORCIÓN SOMBREADA A
               LA DERECHA.
                                                                             103
Figura Nº 24   SALIDA DE UN LÍQUIDO POR UN ORIFICIO EN UN TANQUE CON
               RAPIDEZ V1
                                                                             103
Figura Nº 25   DIAGRAMA DEL CIRCUITO PARA EL DISPOSITIVO CAD – CDA
                                                                             107
Figura Nº 26   VENTANA DE CONFIGURACIÓN PARA EL MICROCONTROLADOR
               PIC18F4550 DE ACUERDO AL CRISTAL UTILIZADO EN EL CIRCUITO Y
               A LA VELOCIDAD QUE TRABAJAMOS
                                                                             108
Figura Nº 27   VENTANA DE CONFIGURACIÓN DE LA LIBRERÍA PARA CREAR EL
               DRIVER HID, LO IMPORTANTE ES EL VID Y EL PID QUE SE IMPRIME
               AL DISPOSITIVO
                                                                             109
Figura Nº 28   FORMULARIO CREADO EN DELPHI XE6 PARA EL MUESTREO Y ENVIÓ
               DE SEÑAL SETPOINT
                                                                             113
Figura Nº 29   VISUALIZACIÓN DE LA INTERFAZ DEL SERVIDOR DE APLICACIONES
               EN SUS DOS ESTADOS
                                                                             116
Figura Nº 30   MODELO RELACIONAL DE LAS TABLAS CONTENIDAS EN BASE DE
               DATOS
                                                                             117
Figura Nº 31   BASE DE DATOS VISTA DESDE EL IDE DE FIREBIRD
                                                                             117
Figura Nº 32   ARQUITECTURA EN CAPAS
                                                                             118
Figura Nº 33   VISUALIZACIÓN DE SEÑALES DE CONTROL SEÑAL DE CONTROL Y EL
               SETPOINT

                                                                             127
Figura Nº 34   VISUALIZACIÓN DE SEÑALES DE CONTROL SEÑAL DE CONTROL Y EL
               SETPOINT EN LA INTERFAZ MÓVIL                                 128
                                      RESUMEN

Con el fin de aplicar las tecnologías, hoy accesibles a la gran mayoría de personas, en

procesos industriales; es que en el presente trabajo de investigación describimos el

proceso seguido en el diseño e implementación de un sistema de control y supervisión

distribuido multiplataforma utilizando principalmente el entorno de programación Delphi

y el gestor de base de datos de licencia libre Firebird. Se procuró que este, tuviera las

principales prestaciones de los sistemas industriales como de: flexibilidad, eficiencia,

robustez y seguridad. El sistema, lo aplicamos a un prototipo de control de nivel de agua

en un tanque. La investigación se basa en tres objetivos específicos. Primero, la

adquisición de datos del prototipo de la formas más fiable posible. Segundo, la creación

del sistema que nos permite realizar el control y supervisión del prototipo con algún

algoritmo de control digital ejecutado desde algún punto conectado a la red Ethernet de

forma cableada o inalámbrica. Y por último, realizamos pruebas de funcionalidad y de

las prestaciones que tiene de acuerdo al objetivo general. Durante el proceso de

implementación del sistema, se identificaron cinco etapas que obedece estrictamente al

seguimiento que se realiza a la señal: (a) Planta o sistema físico, (b) Sistema de datos

muestreados, (c) Procesamiento y base de datos, (d) Sistemas de comunicación o red de

datos y (e) Aplicaciones de control y supervisión. Las etapas llevadas a cabo, resultaron

indispensables en cuanto a la manipulación, procesamiento y análisis en las que se basa

la investigación, llegando consecuentemente a realizar un sistema para el sector industrial

altamente potencial.




Palabras claves: Datos Muestreados, Control, Supervisión, Multiplataforma, Ethernet

Industrial.



                                                                                        13
                                      ABSTRACT

In order to apply the technologies, today accessible to the vast majority of people in

industrial processes; It is that in the present investigation described the process followed

in the design and implementation of a monitoring and control system mainly distributed

platform using the Delphi programming environment and the database manager license

free Firebird. They tried this, have major benefits for industrial systems such as:

flexibility, efficiency, robustness and security. The system, applied it to a prototype

control water level in a tank. The research is based on three specific objectives. First, data

acquisition prototype of the most reliable ways possible. Second, the creation of the

system that allows us to control and supervision of the prototype with a digital control

algorithm executed from any connected to the Ethernet network either wired or wireless

point. Finally, we test the functionality and performance that is according to the general

objective. During the process of implementing the system, five stages that strictly obeys

the monitoring that is done to the signal were identified: (a) Plant or physical system, (b)

sampled data system, (c) processing and database ( d) communication systems or data

network and (e) control and monitoring applications. The steps carried out, proved

indispensable in terms of handling, processing and analysis in which the research is based,

consequently getting to realize a system for highly potential industry.




Keywords: Sampled Data, Control, Supervision, Multiplatform, Industrial Ethernet.




                                                                                           14
                                 INTRODUCCIÓN

Un sistema de control y supervisión distribuido digital, nos ayuda a realizar y optimizar

de manera automática algún proceso que quisiéramos mejorar, ayudándonos a realizar las

tareas de la manera más simple como creamos posible. En la actualidad, las herramientas

que nos ofrece la era de la información nos permiten por ejemplo, el desarrollo de este

tipo de sistemas en múltiples plataformas, a partir de los programas disponibles en la

internet. Además, estos sistemas son cada vez más implementados y desarrollados no

solamente en el ámbito industrial sino que se extiende inevitablemente a las distintas áreas

de estudio en la sociedad y con distintas herramientas disponibles libremente. Esto debido

a las múltiples aplicaciones que se pueden desarrollar como una alterativa más económica

a las tecnologías industriales existentes en el mercado, pues suelen ser prácticamente

inaccesibles para la gran mayoría de usuarios y más en nuestra región.

El diseño e implementación de un sistema de control y supervisión distribuido

multiplataforma utilizando el entorno de programación Delphi y el gestor de base de datos

Firebird descrito en el presente, incrementa las posibilidades de solución de los problemas

latentes en nuestra región como la falta de tecnología aplicada al sector industrial. De

acuerdo al proceso científico, el presente obedece a los lineamientos comunes que debería

tener un trabajo de investigación científica como es:

CAPÍTULO I. Describimos el planteamiento del problema de investigación a partir de la

incongruencia existente en la sociedad de: accesibilidad de la tecnología e información,

y el alto costo de los sistemas industriales dedicados.

CAPITULO II. Describimos el marco teórico necesario enfocado objetivamente al

sistema y al seguimiento estricto al el proceso que sigue la señal.




                                                                                         15
CAPÍTULO III. Describimos de forma general la metodología de la investigación seguida

para el análisis e interpretación de resultados.

CAPÍTULO IV. Está orientado al minucioso análisis de sistemas con todas las técnicas

matemáticas aplicadas y herramientas utilizadas durante el diseño e implementación del

sistema. Con lo cual conseguimos las respectivas conclusiones y recomendaciones.

Para llevar a cabo este proyecto, el proceso de diseño e implementación lo clasificamos

en cinco etapas en las que se basa este trabajo:

a) La etapa de planta o sistema físico, consiste en el armado del prototipo de nivel, además

se describe de forma minuciosa el proceso de modelado y linealización en tiempo

continuo para fines de análisis y control.

b) La etapa de sistema de datos muestreados, describe el diseño, armado y programación

del dispositivo para que pueda funcionar con tecnología USB-HID que nos permita

digitalizar la señal analógica para ser procesado con herramientas digitales y esta señal

pueda ser enviada a la planta. Cabe resaltar que el lenguaje de programación “C” es la

principal herramienta utilizada para muestrear la señal.

c) La etapa de procesamiento y base de datos, describe el proceso minucioso seguido para

manipular y almacenar en los servidores la señal adquirida mediante un filtro digital pasa-

bajo y algoritmos de control PID debidamente discretizados e implementados en código

pascal de Delphi a partir del modelo discreto hallado previamente.

d) Sistemas de comunicación o red de datos, en esta etapa se describe el armado y

configuración de todo el sistema de comunicaciones requerido para un sistema de

comunicaciones con las especificaciones mínimas de Ethernet Industrial. Es importante

resaltar que la arquitectura que procuramos armar es del tipo PEER TO PEER, este



                                                                                         16
consiste básicamente en la configuración Cliente-Servidor pero con la posibilidad de

conectar barios servidores y clientes indistintamente.

e) La última etapa denominada, aplicaciones de control y supervisión, describe el proceso

seguido para crear el software necesario que permite al usuario final realizar tareas de

control y supervisión desde diferentes plataformas a través de una interfaz amigable e

intuitiva. La característica de sistema de control distribuido se logra en esta etapa, gracias

a que las aplicaciones pueden realizar y ejecutar algún tipo de algoritmo de control

independientemente.




                                                                                           17
         CAPITULO I


PLANTEAMIENTO DEL PROBLEMA DE
        INVESTIGACIÓN




                                18
1.1    DESCRIPCIÓN DEL PROBLEMA

1.1.1 Formulación del problema

         En nuestra actual sociedad, el avance de la tecnología prácticamente marca el

ritmo de vida de las personas, tal es así que es indispensable contar con un teléfono móvil

inteligente, una computadora personal o algún dispositivo electrónico que nos permitan

básicamente tener acceso a la información y de alguna forma mejorar nuestra calidad de

vida. Pero este escenario no es casual, recordemos que los mayores cambios del progreso

de nuestra sociedad se atribuyen principalmente a dos acontecimientos que se dieron

desde la década de los sesenta: el desarrollo de los microprocesadores y el desarrollo de

las redes de información y las comunicaciones a alta velocidad. Es en este contexto en el

que aparece el concepto de "Sistemas Distribuidos" que se ha popularizado tanto en la

actualidad y que tiene como ámbito de estudio las redes Internet, redes de teléfonos

móviles, redes corporativas, redes de empresas, redes industriales, entre otros.

         En la industria, como es de suponer, el desarrollo del control distribuido avanza

paralelamente al desarrollo de las tecnologías y las telecomunicaciones, es así que cada

día es más la necesidad de disponer de dispositivos inteligentes para realizar el control y

supervisión de forma remota, desde cualquier punto distinto al área geográfica de

producción, transformando la industria a un nuevo nivel, más accesible, móvil e intuitiva

sin dejar de lado la seguridad y confiabilidad de estos sistemas. En el mercado existe

cierta variedad de sistemas de tiempo real, pero estas tecnologías tienen un costo elevado

para la mayoría de las empresas de nuestra región, y cualquier necesidad en particular por

parte de los usuarios requiere un costo adicional, asiendo de estas tecnologías aún más

costosas y hasta prácticamente inaccesibles.




                                                                                        19
         En este contexto social, más la incongruencia de: accesibilidad de las tecnologías

y el alto costo de las aplicaciones de control y supervisión en tiempo real. Es que es

necesario e inevitable diseñar e implementar un sistema de control y supervisión

distribuido como una alternativa tecnológica que pueda ser implementado en múltiples

plataformas y sobre un estándar de comunicaciones basado en software profesional

mucho menos costoso como es Delphi y el gestor de base de datos de licencia libre como

es Firebird, con las ventajas que ofrece estas herramientas y un gran potencial en cuanto

a las prestaciones del sistema como por ejemplo la incursión en el área de control

inalámbrico vía dispositivos móviles.

1.1.2 Problema general

         ¿El diseño e implementación de un sistema de control y supervisión distribuido

multiplataforma utilizando el entorno de programación Delphi y el gestor de base de datos

Firebird, ofrecerá las prestaciones mínimas requeridas en este área como son las de un

sistema flexible, eficiente, robusto y seguro?

1.1.3 Problemas específicos

a)     ¿El sistema a desarrollar cumple con las características mínimas de fiabilidad de

muestreo y cuantización de señales, adquisición de datos en tiempo real así como la

ejecución de respuestas efectuadas por los actuadores?

b)     ¿Las técnicas de almacenamiento, procesamiento, y gestión de datos en tiempo

real nos permitirán la manipulación de datos, control y supervisión de procesos en un

entorno distribuido multiplataforma?

c)     ¿Las tecnologías utilizadas de comunicación, hardware y software que se usan

para la implementación del sistema de control y supervisión distribuida nos ofrecerán las

prestaciones en algún grado aceptable de flexibilidad, eficiencia, robustez y seguridad?



                                                                                        20
1.2.   JUSTIFICACIÓN DEL PROBLEMA

         Como futuros ingenieros, es importante tener siempre presente los conceptos

teóricos bien definidos de las diferentes áreas de las ciencias y aplicarlos a la práctica

para el beneficio de nuestra sociedad, pero es aún mejor si el aporte que realizamos llega

a nuestro entorno más cercano. Una de las formas de lograr esto, es solucionar nuestros

problemas creando nuestra propia tecnología con nuestras propias herramientas y de

acuerdo a nuestras múltiples necesidades.

         Uno de los problemas de nuestra región es por supuesto la falta de tecnología en

nuestra industria, además las existentes en el mercado son muy costosas. Entonces, el

desarrollo de un sistema de control y supervisión distribuido multiplataforma de bajo

costo, utilizando las herramientas adecuadas que nos ofrece la era de la información en

que vivimos, es prácticamente inevitable. Además, considerando la incursión de sistemas

operativos de licencia libre en múltiples disciplinas y su aceptación en los diferentes

sectores industriales, más la tendencia de integrar todos los sistemas de supervisión y

control de una forma eficiente y totalmente interoperable. Son las razones por las cuales

se desarrolló un estudio enfocado a crear una herramienta que nos permitiera controlar y

supervisar algún proceso en cualquier tipo de sistema operativo o plataforma.

1.2.1 Justificación técnica

         En la actualidad, una planta de producción o manufactura exige la integración

de sistemas de instrumentación, adquisición de datos, control y supervisión, además de

estar actualizados, especialmente con equipamiento tecnológico moderno. Esta creciente

necesidad tecnológica más la de contar con información en tiempo real de procesos, así

como el registro y gestión de datos para la toma de decisiones oportunamente y sin la

necesidad de estar cerca de las líneas de producción, es una ventaja que se puede

aprovechar de este tipo de sistemas. Además, con esta plataforma basado en tecnologías

                                                                                       21
de comunicación Ethernet, TCP/IP, de bases de datos y de dispositivos móviles, se intenta

proveer de un soporte básico para el desarrollo de sistemas capaces de dotar de

inteligencia los procesos de adquisición de grandes cantidades de variables, facilitar su

procesamiento, ejecutar elaborados algoritmos de control, visualizar el comportamiento

de los procesos, en un todo sin necesidad de recurrir a sofisticados ambientes

especializados

1.2.2 Justificación económica

         La implementación de un sistema de control y supervisión de procesos con

capacidad de ser ejecutado en cualquier tipo de plataforma, sistema operativo o

dispositivo móvil con funciones de almacenamiento y acceso remoto en beneficio de los

usuarios del sistema por medio de Internet y dispositivos móviles mediante un único

protocolo, reduce sustancialmente los costos de implementación y operación al utilizar

herramientas de bajo costo y hasta de software libre. Así, el sistema que se presenta es

una herramienta de bajo costo y de altas prestaciones, además este puede implementarse

de forma sencilla, con el mínimo requerimiento de licencias de software, no dependiendo

de un fabricante.

1.2.3 Justificación social

         Al estar soportados por una herramienta de programación profesional y la

filosofía de herramientas libres y de estándares abiertos, el sistema facilita su integración

con otros ambientes de control y supervisión. Además, permite la escalabilidad,

conectividad y mantenibilidad, a objeto de disponer de toda la inteligencia en sitio para

ejecutar las funciones de control, supervisión en tiempo real, facilitando las tareas de

producción al personal y optimizando sus resultados finales, por ejemplo al someter los

resultados a un mejor análisis para mantener y en el mejor de los casos mejorar la calidad

de sus productos.


                                                                                          22
1.3.   OBJETIVOS DE LA INVESTIGACIÓN

1.3.1 Objetivo general

         Diseñar e implementar un sistema de control y supervisión distribuido

multiplataforma utilizando el entorno de programación Delphi y el gestor de base de datos

de licencia libre Firebird.

1.3.2 Objetivos específicos

a)     Diseñar e implementar un prototipo de censado de nivel de un tanque de agua y

una tarjeta de adquisición de datos para diferentes arquitecturas que nos permitan la

obtención y procesamiento de señales de un sistema físico.

b)     Diseñar e implementar el programa de base de datos, el programa servidor de

aplicaciones y programas cliente para diferentes plataformas, que interactuando entre sí,

nos permitan el almacenamiento, procesamiento, y gestión de datos en tiempo real para

el control y supervisión de procesos mediante una interfaz amigable e intuitiva.

c)     Realizar pruebas de adquisición, control y supervisión en varias plataformas y en

entornos de comunicación cableados e inalámbricos para el análisis de sus prestaciones

de estabilidad, escalabilidad, confiabilidad y robustez.




                                                                                      23
 CAPITULO II


MARCO TEÓRICO




                24
2.1      ANTECEDENTES DE LA INVESTIGACIÓN

         Se realizaron e implementaron muchos estudios y sistemas orientados a la

supervisión, control y adquisición de datos para diferentes empresas, con diferentes

programas y en sus distintos rubros o áreas. A continuación mencionaremos algunas de

ellas.

2.1.1 Diseño de sistemas SCADA con conexión a bases de datos, visualización y

control en dispositivos móviles.

         Este trabajo explica la creación de un sistema SCADA, utilizando el programa

para desarrollo de aplicaciones Labview, el cual requirió conexión hacia bases de datos,

específicamente a bases creadas utilizando el programa de computo MySql. También

explica cómo se logró ver y controlar ese sistema a través de un teléfono inteligente, con

lo cual, implementando estas medidas en un entorno físico, se puede disminuir el tiempo

de falla dentro de una empresa y alcanzar una mayor productividad.

         El desarrollo del sistema SCADA comienza con la creación de un algoritmo que

controla el nivel y la temperatura de líquido en un tanque, utilizando la herramienta

Labview. Luego se procede a crear la base de datos de los usuarios que tendrán acceso al

sistema SCADA, los cuales podrán ver y cambiar los parámetros del sistema para su

funcionamiento óptimo.

         A continuación se procede a crear la interfaz gráfica del programa para el

teléfono inteligente y a introducir la programación en la computadora, que permitirá que

el teléfono controle el proceso. Por último se programa el teléfono para que haga lo que

el usuario le solicite.




                                                                                       25
De sus conclusiones de estudio

a)     Los sistemas de control deben ser de fácil visualización y sobre todo ser amigables

con el usuario, ya que el mismo no debe ser un experto para entender lo que sucede en la

fábrica.

b)     Un sistema SCADA debe tener la capacidad de establecer un registro de

actividades, de alarmas y mediciones realizadas durante los procesos, para que en caso de

tener que reemplazar parte del equipo de la producción, se tenga un patrón de

comportamiento deseado que deberá ser provisto por el equipo nuevo; de esta premisa

surge la necesidad de la conexión del sistema a una base de datos como por ejemplo: una

base de datos en MySql, la cual fue utilizada en este Sistema.

c)     Por medio del sistema SCADA que se realizó, se logró que el sistema fuera capaz

de crear automáticamente respaldos de la base de datos en la cual se encuentran usuarios

y alarmas que el sistema ha presentado con anterioridad. Estos respaldos son

posteriormente almacenados en un servidor FTP en prevención de un fallo de la

computadora donde se encuentra el sistema. Es por ello que se tienen dichos datos, los

cuales se consideran de vital importancia, en una localidad segura; ahorrando de esta

manera tiempo y dinero en una nueva configuración del sistema, que a su vez deberá ser

reinstalado en el equipo nuevo.

2.1.2 Desarrollo de un sistema SCADA para uso en pequeñas y medianas

empresas.

           El trabajo que presentaré a continuación muestra el desarrollo de un sistema

automatizado para ser implementado en empresas de bajos recursos, las cuales no pueden

acceder a sistemas comerciales similares. Dichas empresas siguen manteniendo elevados

costos en registros a mano, impresiones, correos y mano de obra, consecuentemente no

pueden competir con las empresas extranjeras que si tienen fondos para invertir en ese

                                                                                       26
tipo de software. El desarrollo de dicho software promueve el uso de software libre,

respetando la complejidad, compatibilidad, recursos y los requerimientos de operatividad

y seguridad de pymes.

         El desarrollo de la tesis se divide 4 partes: marco teórico, diseño, seguridad, e

implementación. Esos 4 capítulos engloban toda la información y los procedimientos con

que fue desarrollado “Soft-Control”. Una vez visto todos los capítulos, el lector será capaz

de entender términos clave en automatización, obtendrá conocimientos informáticos,

conocerá más acerca de lenguajes de programación tanto web como de escritorio,

conocerá el concepto de base de datos, además sabrá los pasos para realizar un diseño de

software según la ingeniería de software, estará al tanto de las tecnologías de software

libre que existen hoy en día y podrá proponer una solución empresarial para la

automatización industrial con un software de costo muy bajo, eficiente y confiable.


De sus conclusiones de estudio

a)     Los sistemas SCADA están evolucionando conjuntamente con las tecnologías de

la información, esto implica que el hardware ya no es limitante del mismo. Es el software

el que le da el mayor valor agregado al sistema.

b)     Las tecnologías de código abierto son igual de competentes e incluso más

competentes que algunas tecnologías de pago. Esto significa que las tecnologías de

código libre son una tendencia para la industria del software en el futuro.

c)     Actualmente, el mayor limitante de los sistemas SCADA no se encuentra alojado

en alguna característica del hardware o en el software. Las comunicaciones son un tema

muy delicado pues se debe manejar de tal modo que la seguridad no sea baja, ni que baje

las velocidades de transferencia de datos.




                                                                                         27
d)      Los gestores de bases de datos ciertamente son de gran utilidad hoy en día en el

desarrollo de estos tipos de software, pues ellos se encargan de funciones tales como la

seguridad, almacenamiento, reportes, alertas, etc. Dejando así al sistema SCADA más

recursos para que cumpla con sus funciones específicas de supervisión, control y

adquisición de datos.

e)     Las metodologías tanto de diseño como de desarrollo de software también son un

punto a resaltar hoy en día. No solo se pueden aplicar en el campo de la informática, sino

que también, como el caso de la presente tesis, se pueden aplicar para proyectos

industriales tales como el desarrollo o implementación de sistemas SCADA.

f)     Con los sistemas de código abierto la pequeña y mediana empresa tiene una gran

oportunidad de volverse más competitivo, tener mayor control sobre sus procesos,

agilizar el manejo de la información y poder llegar a más clientes.

g)     Con el software de código libre, la pequeña y mediana empresa puede

implementar un centro de desarrollo de software. Logrando así disminuir sus costos en

software de pago y tener un software hecho a la medida que se adapte totalmente a su

forma de operar.

2.1.3 Sistema de control y supervisión industrial multiplataforma.

         Este artículo describe las diferentes tecnologías que se pueden utilizar para

desarrollar una herramienta que permita una comunicación industrial entre diversas

plataformas. También muestra el desarrollo de la herramienta utilizando la mejor opción

de comunicación dentro del entorno de estudio particular presentando los resultados

obtenidos y sus ventajas en términos de compatibilidad y rendimiento.

         Se implementó un sistema de supervisión y control de procesos industriales con

capacidad de ser ejecutado en cualquier tipo de plataforma y sistema operativo, con


                                                                                       28
funciones de almacenamiento y acceso remoto para los usuarios del sistema por medio

de Internet y dispositivos móviles, reduciendo así sustancialmente los costos de

implementación y operación al utilizar herramientas de software libre.


De sus conclusiones de estudio

a)     Con el sistema desarrollado, se pueden generar todas las aplicaciones actualmente

requeridas por un sistema de control y supervisión utilizando una plataforma Java y un

servidor XML-DA desarrollado en cualquier lenguaje.

b)     A través de la implementación de un Cliente Web de la especificación OPC XML-

DA en J2EE, se puede tener acceso ilimitado a los datos de un dispositivo de campo y

ejecutar la aplicación en cualquier plataforma, ya sea Linux, UNIX, Windows, o un

dispositivo móvil.

c)     Utilizando la especificación OPC XML-DA se pueden integrar todos los servicios

necesarios para el control y supervisión de dispositivos de campo en un proceso industrial,

y usar los mismos desde cualquier sitio remoto con acceso a Internet, o dentro de una

LAN.

d)     Se pueden reducir ostensiblemente los costos de desarrollo de una herramienta de

control y supervisión al utilizar sistemas operativos de carácter libre y software de

desarrollo de libre distribución, sin perjudicar su calidad y rendimiento.

e)     Para un sistema de control y supervisión en un proceso industrial, los tiempos de

respuesta de la herramienta desarrollada en Java son muy buenos y no generan ningún

retardo en el desempeño del mismo. Se puede decir que cumplen con la definición de

tiempo real bajo condiciones de red específicas y limitadas.

f)     La adquisición de los datos por medio de la aplicación XML-DA puede generar

errores y terminaciones de la conexión dependiendo del tráfico en la red.
                                                                                        29
g)     Algunos procesos, especialmente los relacionados con servicios que manejan poca

información como ver el estado de un servidor, utilizan muchos recursos para una

transacción simple y no son óptimos para un sistema de este tipo, debido a que pueden

generar errores y aumentar el tráfico en la red.

h)     Para desarrollar un servidor OPC XML-DA sobre lenguaje Java se necesita más

que la simple especificación. Debe desarrollarse algún medio o utilizar uno ya

desarrollado que permita obtener los datos directamente desde la memoria o que haga una

comunicación con los objetos COM.

2.1.4 Sistema de control inalámbrico: diseño, construcción y aplicación en caldera

industrial

         Este trabajo de investigación y desarrollo tecnológico tuvo como finalidad el

diseño y construcción de una unidad de control con capacidad de comunicación en red

inalámbrica y cableada, con la finalidad de desarrollar una unidad de control de procesos

poderosa, fácil de utilizar, flexible y bajo costo, a través de la cual, sea posible el

implementar sistemas de control distribuidos inalámbricos y cableados basados en

topologías de red avanzadas como estrella, árbol y malla, dado las diferentes tecnologías

de comunicación que hoy en día se manejan en el campo de la automatización de procesos

industriales y tomando referencia de las más novedosas y prometedoras ventajas de las

tecnologías de avanzada disponibles en el mercado internacional.

         El sistema incluye el desarrollo de un driver de comunicación en dos capas, el

cual fue desarrollado bajo la plataforma del microcontrolador ATmega 328 con

bootloader Arduino y la capa superior en ambiente de desarrollo LabVIEW, con la

finalidad de facilitar al usuario el desarrollo de la aplicación de control y lograr que las

tareas de comunicación entre las unidades de control y cuarto de supervisión sean

completamente transparentes para el programa del usuario.

                                                                                         30
De sus conclusiones de estudio

a)     El protocolo de comunicaciones cableado Ethernet, es el que presenta tiempos de

respuesta menores respecto a los protocolos inalámbricos Zigbee y WiFi. Sabemos que

los módulos utilizados para los 3 protocolos de comunicación presentan sus limitaciones,

al tratarse de controladores embebidos de dichos protocolos de comunicación, lo cual

significa que al llevarse a cabo las operaciones de transporte, ruteo y acondicionamiento

de paquetes en el mismo módulo y permite utilizar estos protocolos en aplicaciones a bajo

nivel como desarrollo de placas basados en microcontroladores, los rendimientos que se

obtienen en cuanto a velocidad de transferencia en estos módulos son reducidos.

b)     Aun así, estamos convencidos de que el presente sistema representa una gran

oportunidad como herramienta para el desarrollo e implementación tanto de redes de

sensores, sistemas de adquisición de datos o sistemas de control distribuidos en diversas

topologías y tecnologías que permiten al usuario sacar provecho de la infraestructura

física de telecomunicación instalada, en el caso de WiFi; bajo consumo energético y

cobertura geográfica ilimitada en caso de Zigbee; banda ancha, confiabilidad y robustez

de Ethernet y todos ellos en este sistema a bajo costo.

c)     Asimismo, coadyuvará en el fortalecimiento del perfil profesional del egresado de

ingeniería electrónica permitiéndole enfocarse en la aplicación de control y adquisición

de datos y no en las herramientas tecnológicas auxiliares para dicha tarea.




                                                                                      31
2.2.   SUSTENTO TEÓRICO

2.2.1 TEORIA GENERAL DE LOS SISTEMAS DE CONTROL

       Un sistema de control, se define como un tipo de sistema que se compone de un

conjunto de elementos relacionados o dispositivos interconectados que forman una

configuración denominada también sistema, de tal manera que el arreglo resultante es

capaz de administrar, ordenar, dirigir o regular el comportamiento de otro sistema y hasta

controlarse así mismo si este fuera automático.

       El problema de control consiste en seleccionar y ajustar un conjunto específico de

elementos que al interconectarse, el sistema resultante deberá comportarse de una manera

específica, tanto como se desea. En nuestro caso, el sistema de control ofrece señales de

salida en función a señales o datos de entrada mediante alguna acción de control, entonces

el vínculo entrada-salida tiene una relación de causa y efecto mediante el sistema.

Gráficamente un sistema susceptible a ser controlado se representa como se muestra en

la figura Nº1.

                                              SISTEMA O
                 OBJETIVOS                                                RESULTADOS
                                               PROCESO




                  Entradas o           Planta (sistema o proceso que      Salidas o variables
                  Referencias              controlar), actuador,              controladas
                                            transductor, error.

            Figura Nº 1 Esquema básico de un sistema de control, la salida del sistema se debe a
                              la interacción de la entrada con el proceso.
                                         Elaborado por el autor

       Es importante resaltar el hecho de que, no es necesario conocer el funcionamiento

interno o cómo interactúan los diversos elementos de un sistema para caracterizarlo. El

aspecto más importante de un sistema es el conocimiento de su dinámica, es decir, cómo

se comporta la señal de salida frente a una variación de la señal de entrada. Esta

característica es conocida como “principio de caja negra”. Un conocimiento preciso de

                                                                                                   32
la relación entrada/salida permite predecir la respuesta del sistema y seleccionar la acción

de control adecuada para mejorarla.

2.2.1.1 CLASIFICACIÓN DE LOS SISTEMAS DE CONTROL

         Existen diferentes formas de clasificar los sistemas de control, debido

precisamente a la compleja naturaleza que los caracteriza y a la naturaleza misma que en

si es una sola, pero asemos denodados esfuerzos para comprenderla desde sus

fundamentos, clasificarla, poder interpretarla y básicamente entender su comportamiento.

a)     Con respecto a su causalidad

         Desde el punto de vista teórico, los sistemas de control se clasifican en: causal y

no causal. Un sistema susceptible a ser controlado responde solo durante o después del

tiempo en el que se aplica la excitación. Sin embargo al considerar los filtros ideales

algunas aproximaciones quizá lleven a un diseño de sistema para el cual la respuesta

empieza antes de que se aplique la excitación. Un sistema de tales características no puede

construirse realmente (Michael J. 2005).

         Por definición, cualquier sistema para el cual la respuesta ocurre solo durante o

después del tiempo en el que se aplica la excitación recibe el nombre de sistema causal.

Todos los sistemas físicos son causales porque son incapaces de ver el futuro y anticipar

una excitación que se aplicara después. Aunque todos los sistemas físicos reales deben

ser causales en el estricto sentido de que una respuesta solo debe ocurrir durante o después

de la excitación de la causa, existen sistemas de procesamiento de señales reales que

algunas veces se describen en un sentido superficial como no causales. Estos son sistemas

de procesamiento de datos en los que las señales se registran y luego se procesan fuera de

línea en un tiempo posterior para producir una respuesta computada, puesto que la historia

completa de la excitación se ha grabado, la respuesta computada en algún tiempo

designado en la cadena de datos puede basarse en valores futuros de la excitación ya

                                                                                         33
registrada. Sin embargo, puesto que la operación de procesamiento de datos completa

ocurre después de que ha sido registrada las excitaciones, este tipo de sistemas sigue

siendo causal en un sentido estricto (Michael J. 2005).

b)     Con respecto al principio físico

         Una posible clasificación de estos sistemas puede darse con respecto al principio

físico que los define. Así, se tendrían sistemas mecánicos, eléctricos, sistemas de

cómputo, hidráulicos, neumáticos, térmicos, biológicos, uno económico, uno político,

etcétera. Pero estos sistemas también pueden ser ordenados y clasificados en dos grupos:

Los sistemas ideados por los ingenieros que son sistemas artificiales, y aquellos que se

han desarrollado orgánicamente a través de la evolución y el crecimiento de la civilización

que las denominamos sistemas naturales.

c)     Con respecto a la ecuación que lo describe

         Otra probable clasificación, es con respecto al orden de la ecuación diferencial

que define al sistema, desde una simple ecuación proporcional conocida también como

ecuación de orden cero e incrementándose a primer orden, segundo orden, y de orden

superior. A la vez, estas ecuaciones pueden ser lineales y no lineales.

         Debemos agregar que en el mundo real, los sistemas lineales prácticamente no

existen, ya que todos los sistemas son no lineales en algún grado. La suposición de

linealidad de los sistemas se realiza para obtener modelos ideales y con esto facilitar el

análisis, diseño e implementación de sistemas de control de cualquier tipo.

d)     Con respecto a su número de entradas y salidas.

         Otra de las varias alternativas para clasificar los sistemas de control es con

respecto a su número de entradas y salidas. Cuando un sistema tiene una sola entrada y

una sola salida se denomina sistema SISO (single input, single output); cuando posee

varias entradas y varias salidas se llama sistema MIMO (multi input, multi output). Así
                                                                                        34
mismo podemos derivar sistemas como SIMO (single input, multi output) y MISO (multi

input, single output).

e)     Con respecto al tipo de señales que se procesan

         Las señales o variables de los sistema dinámicos está en función del tiempo, de

acuerdo con ello estos sistemas pueden ser de tiempo continuo y de tiempo discreto, del

mismo modo los sistemas.

         En un sistema de tiempo continuo, el tiempo se considera infinitamente

divisible y esta descrito generalmente mediante una ecuación diferencial. Las variables

de tiempo continuo se denominan también analógicas, por ser análogas al

comportamiento físico natural de los sistemas.

         Podemos definir dos tipos de sistemas de control en tiempo continuo: sistemas

de control de corriente alterna y de corriente continua o directa. Cuando hacemos

referencia a los sistemas de corriente alterna, se dice que estos están modulados según

algún esquema de modulación general generalmente en frecuencia. Cuando se hace

referencia a un sistema de control de corriente directa, no se debe pensar estrictamente

que la dirección de las señales o corrientes correctivas es unidireccional, ya que si fuera

así no se produciría en algunos casos la acción correctiva necesaria.

         En un sistema en tiempo discreto, el tiempo se considera dividido en períodos

de valor constante y esta descrito generalmente por una ecuación en diferencias. Los

valores de las variables son digitales, las señales en algún o algunos puntos están en forma

de pulsos o codificados digitalmente. (Sistemas binario, hexadecimal, etc.) Y su valor

solo se conoce en cada período.

         Los sistemas de tiempo discreto se pueden dividir en sistemas de control de datos

muestreados y sistemas de control digital. En los sistemas de datos muestreados las


                                                                                         35
señales en el sistema se encuentran en forma de pulsos digitales, mientras que en un

sistema de control digital, nos referimos a la utilización en sí, de un controlador digital,

como una computadora, microcontrolador o cualquier sistema digital. Los sistemas de

datos muestreados, solo reciben información durante instantes específicos, por lo que

fuera de estos instantes el sistema no tiene información alguna del proceso controlado.

f)     Con respecto al comportamiento o tratamiento de la señal de salida

          Dependiendo del tratamiento que el sistema de control realiza con la señal de

salida, pueden distinguirse dos topologías de control: sistemas en lazo abierto o no

automático y sistemas en lazo cerrado conocidas también como realimentados o

automáticos. Para llevar a cabo dicha clasificación, es importante definir el concepto de

Acción de control como la cantidad dosificada de energía que afecta al sistema para

producir la salida o la respuesta deseada.

       Sistema de control de lazo abierto. Es aquel sistema en el cual la acción de

control es, en cierto modo, independiente de la salida. Este tipo de sistemas por lo general

utiliza un regulador o actuador con la finalidad de obtener la respuesta deseada.

          La capacidad que tales sistemas para ejecutar una acción con exactitud depende

de su calibración. En general, los sistemas de lazo abierto están regulados por base de

tiempo.

            Entrada de                           Señal de                          Variable
            referencia                           entrada                          controlada
                                                                  PROCESO
                             CONTROLADOR
                                                                CONTROLADO




                         Figura Nº 2 elementos de sistema de control a lazo abierto
                                            Elaborado por el autor

       Sistema de control de lazo cerrado. Son los sistemas en la que la acción de

control depende de la salida. Dicho sistema utiliza un sensor que detecta la respuesta real

para compararla, entonces, con una referencia a manera de entrada. Por esta razón, los

                                                                                               36
sistemas de lazo cerrado se denominan sistemas retroalimentados. El término

retroalimentar significa comparar. La figura Nº 3 muestra la configuración de un sistema

retroalimentado.

        Entrada de                   Señal                    Señal de                 Variable
        referencia                 regulada                   entrada                 controlada
                     REGULADOR                CONTROLADOR                  PROCESO
                                                                         CONTROLADO




                                              ELEMENTO DE
                                                MEDICION


                       Figura Nº 3 elementos de sistema de control a lazo cerrado
                                        Elaborado por el autor

         En teoría, todo sistema de lazo abierto puede convertirse a lazo cerrado; sin

embargo, la limitante es el sensor, ya que no siempre es posible detectar la salida del

proceso. Las características de los sistemas de lazo cerrado son:

Aumento de exactitud en el control del proceso. La retroalimentación atenúa el error

para lograr el objetivo de control.

Sensibilidad reducida en las variaciones de las características del sistema. Se refiere

a que, dentro de ciertos límites, uno o varios componentes del sistema pueden sustituirse

por elementos semejantes al componente original, sin que se aprecien resultados

significativos en el desempeño del sistema resultante.

Efectos reducidos de la no linealidad y la distorsión. Los efectos de la no linealidad y

de la distorsión, dentro de ciertos rangos, pueden ser no significativos debido a la

retroalimentación, ya que ésta tiende a ajustar la respuesta del sistema.

Aumento de ancho de banda del sistema. Con la retroalimentación, el rango de

operación del sistema en el dominio de la frecuencia se incrementa.

Tendencia a la inestabilidad. Salvo las anteriores características, el único problema,

pero grave, que causa la retroalimentación es la tendencia del sistema a la inestabilidad.


                                                                                                   37
g)     Con respecto a la arquitectura de control

               Este tipo de clasificación obedece principalmente al continuo crecimiento de las

necesidades de las industrias y al acelerado proceso de desarrollo tecnológico tanto en

hardware y software.

Control centralizado. Está estructurado en torno a un computador central que recibe

todas las entradas del proceso (variables) ejecuta los cálculos apropiados y produce

salidas que se dirigen hacia los actuadores o dispositivos finales de control. Es este tipo

de control es necesario cablear todos los procesos directamente al computador central. La

potencia de tratamiento se concentra en un único elemento denominado computador

central.
                                                                      Figura Nº 4 Diagrama funcional de
                        c                                             sistema de control centralizado: a)
                                                                      procesador central, b) computadora
                                                                      personal, c) entradas desde sensores y
                                                                      medidores, d) salidas hacia los
                                                                      actuadores.
                        d                                             Elaborado por el autor

                                          a               b


Control descentralizado de entradas y salidas. En el control descentralizado de

entradas y salidas (E/S) se incorpora las primeras redes de control en donde los procesos

se conectan al bus o red de control, evitándose el cableado excesivo hacia el computador,

las entradas y salidas de los procesos controlados se chequean por eventos, logrando

optimizar los recursos de un sistema computarizado, así ejerciendo un control más

completo.



           a                                          b       Figura Nº 5 Diagrama
                                                              funcional de un sistema de
                               Red de dispositivos            control descentralizado: a)
                                                              procesador       central,     b)
                                                              computadora personal, c)
                c                             c               dispositivos de entrada y salida
                                                              distribuidas.
                                                              Elaborado por el autor.



                                                                                                        38
Control supervisado. Para dotar a los sistemas con ordenador centralizado del nivel de

seguridad adecuado y evitar que una caída de este paralice todo el sistema, surgieron los

sistemas de control supervisado, los cuales están formados por pequeños sistemas

autónomos que pueden seguir funcionando si se corta la línea de supervisión, estos

pequeños sistemas son ahora los que realmente controlan los procesos, así mismo la pc

solo se encarga de supervisar, cambiar parámetros de los sistemas autónomos y hacer

desconexiones de emergencia.

          En la práctica los sistemas de control autónomos están formados por procesos

independientes controlados por PLC, RTU, y para poder acceder a los dispositivos de

control es necesario utilizar un bus adecuado, aunque el control supervisado permite que

el control básico del proceso continúe a pesar del posible fallo del ordenador central, sigue

necesitando una ampliación del cableado y un software adicional en caso de querer

ampliar el número de entradas y salidas.



       a                                   b
                                                    Figura Nº 6 Diagrama funcional de
                      Red de Control
                                                    un sistema de control supervisado: a)
                                                    computadora personal, b) Sistema
      c                             d               mínimo de control, c) Procesador
                                                    Local. d) dispositivos de entrada y
                     Red de dispositivos
                                                    salida
                                                    Elaborado por el autor

           d                           d

Control distribuido. El control distribuido es el paso siguiente en la evolución de los

sistemas de control, su potencia de tratamiento de la información se encuentra repartida

en el espacio. Se podría decir que los sistemas de control distribuidos fueron desarrollados

para proporcionar las ventajas del control por ordenador pero con más seguridad y

flexibilidad.




                                                                                            39
           Esta filosofía se basa en instalar pequeños sistemas de control o unidades

funcionales para cada sub proceso, generalmente autómatas programables. Todos ellos

conectados a través de un sistema de comunicación que los enlaza a un supervisor.

           Con esta metodología de control es posible que cada unidad funcional consista

en un proceso relativamente sencillo, comparado con proceso global, reduciendo la

posibilidad de errores en la programación y permitiendo el empleo de unidades de control

más sencillas y por tanto más económicas, al mismo tiempo, la existencia de fallos en

otras unidades de control, no implica el paro de los otros subprocesos que se llevan a cabo

en la planta.


                                  a                             b
           c                                                                             c
                                                    Red de Control




      d                    e                                         d               e
                        Red de dispositivos                                  Red de dispositivos




       e                                e                                e                         e



                Figura Nº 7 Diagrama funcional de un sistema de control distribuido: a) Procesador
               central, b) computadora personal, c) Sistema mínimo de control. d) Procesador Local,
                              e) dispositivos de entrada y salida. Elaborado por el autor


           El procesador central se encarga de la recolección de datos y de sincronizar las

acciones o procesos locales, por medio de la PC se tiene acceso a la red de control

supervisado y gestionando los recursos del sistema.

Control, supervisión y gestión. El concepto de control, supervisión y gestión, responde

a una estructura jerarquizada, produciéndose en la cúspide las decisiones de política

empresarial, en el otro extremo, se encuentran las denominadas islas de automatización,

mediante autómatas programables, robots, etc. Lo que se pretende es que todo esto se

integre en un sistema de control jerarquizado y distribuido que permite la conversión de

decisiones de política empresarial en operaciones de control de bajo nivel.
                                                                                                       40
               b                                a                            b

                                                    Red de Información




          d                                 c                                            d
                                                      Red de Control



      e                  f                                         e                 f
                      Red de dispositivos                                    RedRed
                                                                                 de dispositivos
                                                                                    de dispositivos



      f                               f                                  f                            f

          Figura Nº 8 Diagrama funcional de un sistema de control supervisión y gestión: a) computadora
             personal b) gestión de información, c) Procesador central. d) Sistema mínimo de control e)
                   Procesador Local, f) dispositivos de entrada y salida. Elaborado por el autor.


2.2.1.2 SISTEMA DE CONTROL DISTRIBUIDO

          Una definición ampliamente aceptada de un sistema de control distribuido es:

Un conjunto de computadoras independientes o autónomos enlazados por una red, que

comparten un estado, soportados por aplicaciones que hacen que el conjunto ofrezca una

visión de sistema único.

Propiedades de los sistemas distribuidos

          Un sistema distribuido, que pretenda ofrecer una visión de sistema único apuntan

a incorporar características de: Flexibilidad, eficiencia, robustez y seguridad. Aunque más

que características o prestaciones, son problemas muy complejos a las que nos

enfrentamos y como ingenieros tenemos por resolver.

a)     Flexibilidad

          Es la capacidad que le permite al sistema adaptarse a cambios y actualizaciones

constantemente y de acuerdo a las necesidades que se presentan generalmente para

mejorar su funcionamiento. Estos pueden ser en muchos aspectos que involucra:

Escalabilidad: Permite añadir un número indeterminado de nodos a la conexión, y las

prestaciones que se obtengan deben de escalar de un modo razonable con el número de

                                                                                                          41
nodos. Esta capacidad permite a la planta aumentar o reducir las distancias físicas entre

los equipos que la conforman sin perder calidad en los servicios ofrecidos.

Heterogeneidad: Capacidad de interactuar con elementos que cuentan con características

físicas y operativas distintas entre sí, mediante herramientas que le permiten comunicarse

e interactuar.

Multifuncionalidad: Capacidad para realizar varias tareas. En nuestro caso, permitir

modificaciones y configuraciones especiales para adaptarlo al uso de diversos tipos de

procesos, usuarios y computadoras. Desde la más sencilla a la más compleja.

Apertura: Básicamente es el grado hacia el que nuevos servicios de compartición de

recursos se pueden añadir aumentando su complejidad sin perjudicar ni duplicar a los ya

existentes. Deben de estar definidos por protocolos que permitan añadir fácilmente

nuevos sistemas.

Transparencia: El objetivo esencial de un sistema distribuido es proporcionar al usuario

y a las aplicaciones una visión de los recursos del sistema como gestionados por una sola

máquina virtual. El acceso a un recurso debe ser independiente de su situación física; el

sistema debe proveer una capa que identifique uniformemente recursos locales y remotos

Extensibilidad: La extensibilidad de los sistemas distribuidos se determina en primer

lugar por el grado en el cual se pueden añadir nuevos servicios de compartición de

recursos y ponerlos a disposición para el uso por una variedad de programas cliente.

b)     Eficiencia

       Es la capacidad del sistema de optimizar los recursos disponibles para lograr un

objetivo. El verbo optimizar hace referencia a buscar la mejor manera de realizar una

actividad. Es decir, eficiencia es el uso racional (menor cantidad) de los mejores recursos



                                                                                        42
o medios con que se cuenta para alcanzar un objetivo. Un sistema eficiente involucra

también:

Interoperabilidad: El Instituto de Ingenieros Eléctricos y Electrónicos (IEEE) define

interoperabilidad como la habilidad de dos o más sistemas o componentes para

intercambiar información y utilizar la información intercambiada. Compartición de

recursos e información.

Desempeño: Es el grado de desenvolvimiento o habilidad en la realización de una

actividad con respecto a un fin esperado. Nuestro sistema o máquina tendrá un nivel

de desempeño según los resultados obtenidos para la que fue creada. Deben de atender

con prontitud todos los requerimientos del usuario y permitir el trabajo de multitareas sin

pérdida de confiabilidad.

Rendimiento: Se refiere a la proporción que surge entre los medios empleados para

obtener algo y el resultado que se consigue. En la práctica, es la responsabilidad de

asegurarse que las tecnologías de la información y de las comunicaciones implementadas

respondan a los requerimientos técnicos y funcionen siempre al máximo de su capacidad.

Productividad: La productividad suele estar asociada a la eficiencia y al tiempo: cuanto

menos tiempo se invierta en lograr el resultado anhelado, mayor será el carácter

productivo del sistema.

c)     Robustez

           Es la cualidad del sistema de ejecutar aplicaciones de misión crítica, tolerar

errores en todo su rango de variación normal dentro de las especificaciones de un proceso,

respondiendo como un sistema insensible frente a fuentes de variabilidad. Esta

característica busca evitar interrupciones del servicio en las plantas, responder frente a

cualquier interferencia o ruido de la señal con la mayor velocidad, los componentes


                                                                                        43
utilizados en sus redes deben satisfacer elevadas exigencias de comportamiento

electromagnético, electrostático y en esencia ser inmune a las más extremas condiciones

ambientales.

Fiabilidad: La fiabilidad de un sistema puede definirse como su capacidad para realizar

correctamente y en todo momento las funciones para las que se ha diseñado. La forma

más evidente de lograr la fiabilidad de todo el sistema es el uso de redundancia, es decir,

la información no debe estar almacenada en una sola máquina, sino en un conjunto de

ellas.

Tolerancia a fallas: Expresa la capacidad del sistema para seguir operando

correctamente ante el fallo de alguno de sus componentes, enmascarando el fallo al

usuario o a la aplicación. La degradación de prestaciones debe ser razonable, la tolerancia

a fallos implica detectar el fallo, y continuar el servicio de forma transparente.

Concurrencia: Esta característica permite que los recursos disponibles en la red puedan

ser utilizados simultáneamente por los usuarios y/o agentes que interactúan en la red. Si

el sistema está equipado con un único procesador central, la concurrencia tiene lugar

entrelazando la ejecución de los distintos procesos. Si el sistema tiene N procesadores,

entonces se pueden estar ejecutando estrictamente a la vez hasta N procesos.

Estabilidad: Que mantiene el equilibrio, no cambia o permanece en el mismo lugar

durante mucho tiempo. En nuestro caso, la estabilidad es la propiedad de los sistemas que

tienen un nivel de fallos reducido. A menos fallos, mayor estabilidad, y viceversa.

Potencia: Se puede indicar que la potencia es la fuerza, el poder o la capacidad para

conseguir algo. Para nuestro caso de estudio, se refiere al potencial de las herramientas

utilizadas en la implementación del sistema en su conjunto. Inevitablemente, implementar

las propiedades de los sistemas distribuidos será a costa de una pérdida de rendimiento.


                                                                                        44
d)     Seguridad

         Es la capacidad del sistema de garantizar la protección de la integridad y la

privacidad de los programas, dispositivos y la información que pertenecen a individuos y

organizaciones para estar libre de todo peligro o daño que en cierta manera es infalible.

Conjuga ambos mundos: el físico y el digital. Nace, como es lógico, de la necesidad de

compartir recursos de acuerdo a políticas de seguridad que se hacen cumplir con la ayuda

de los mecanismos de seguridad.

Confidencialidad: Nos dice que los objetos de un sistema han de ser accedidos

únicamente por elementos autorizados a ello, y que esos elementos autorizados no van a

convertir esa información en disponible para otras entidades.

Integridad: Significa que los objetos sólo pueden ser modificados por elementos

autorizados, y de una manera controlada.

Disponibilidad: Indica que los objetos del sistema tienen que permanecer accesibles a

elementos autorizados; es el contrario de la negación de servicio. Es la fracción de tiempo

que el sistema está operativo. El principal parámetro para medir la disponibilidad es el

tiempo medio entre fallos, pero hay que considerar también el tiempo de reparación

Consistencia: El problema de mayor complejidad es el de la gestión del estado global

para evitar situaciones de inconsistencia entre los componentes del sistema. Este es un

aspecto fundamental en el diseño del sistema distribuido. Un modelo de consistencia

consiste en un contrato entre los procesos que acceden a los datos. Dicho contrato consiste

en que si los procesos siguen ciertas reglas, el almacén de datos les dará ciertas garantías.

La consistencia de los datos es definida entre el programador y el sistema, que garantiza

que si el programador sigue las reglas, la memoria será consistente, y el resultado de las

operaciones de memoria será predecible.



                                                                                          45
Confiabilidad: Entendida como el nivel de calidad del servicio ofrecido. Debe hacer

sentir confianza a los usuarios, al exponer integridad de sus archivos de datos

confidenciales y sus transacciones comerciales en una computadora conectada a una red

o a internet.

2.2.2 AUTOMATIZACIÓN E INTEGRACIÓN DE TECNOLOGÍAS

           La automatización de los procesos productivos es uno de los aspectos que más

ha evolucionado en la industria desde sus comienzos. La integración de tecnologías

clásicas como la mecánica y la electricidad con otras más modernas (electrónica,

informática, telecomunicaciones, etc.) está haciendo posible esta evolución. Esta

integración de tecnologías queda representada en la llamada "pirámide de

automatización", la figura Nº 9 que recoge los cinco niveles tecnológicos que se pueden

encontrar en un entorno industrial. Las tecnologías se relacionan entre sí, tanto dentro de

cada nivel como entre los distintos niveles a través de los diferentes estándares de

comunicaciones industriales.




Figura Nº 9 Pirámide de automatización izquierda modelo teórico CIM, derecha modelo real TIA. Al implementar el
 modelo CIM en una empresa real los niveles de control y supervisión se fusionan para ser parte de un solo nivel de
                                              sistemas de control.


El primer nivel o "nivel de campo o instrumentación" incluye los dispositivos físicos

de medida (sensores) y de mando (actuadores) presentes en la industria, distribuidos en

una línea de procesos o de producción.

                                                                                                                46
El segundo nivel o "nivel de control" en este nivel se encuentran los elementos capaces

de gestionar los actuadores y sensores, incluye los dispositivos controladores como

ordenadores, PLCs, PIDs, etc.

El tercer nivel "nivel de supervisión". En este nivel es posible visualizar como se está

llevando a cabo los procesos de la planta. Corresponde a los sistemas de supervisión,

control y adquisición de datos (SCADA-supervisory control and data acquisition) para

tener una imagen virtual.

El cuarto nivel o "nivel de planificación" se encuentran los sistemas de ejecución de la

producción (MES-manufacturing execution system).

El quinto nivel. La cúspide de la pirámide ("nivel de gestión") la componen los sistemas

de gestión integral de la empresa (ERP-enterprise resource planning), lo que en este nivel

interesa es la información relativa a la producción y todo lo relacionado a su gestión.

2.2.3 TEORÍA ENFOCADA AL PROCESO DE IMPLEMENTACIÓN

         A continuación desarrollaremos las teóricas que han sido necesarias durante el

desarrollo del diseño e implementación del presente proyecto de investigación, esta

obedece al estricto seguimiento de la señal, desde su instrumentación hasta la supervisión

y control digital del sistema. Para ello, clasificamos el proceso en cinco etapas:

         a)    Planta o sistema físico

         b)    Sistema de datos muestreados

         c)    Procesamiento y base de datos

         d)    Sistemas de comunicación o red de datos

         e)    Aplicaciones de control y supervisión




                                                                                          47
2.2.3.1 SISTEMA FÍSICO O PLANTA

           El diseño y la implementación de nuestro proyecto, empieza a partir de la

observación del fenómeno que pretendemos controlar y la identificación de la señal que

pretendemos manipular.

a)     Planta.

           Desde nuestro punto de vista, planta es cualquier objeto o sistema físico que

pueda ser controlado con el objetivo de realizar una operación determinada. Con el

término “sistema físico”, nos referimos al modelo de un dispositivo o de un conjunto de

ellos relacionados entre sí, existentes en el mundo real.

b)     Sistema dinámico

           Para el estudio del comportamiento de estos sistemas disponemos de un objeto

matemático especialmente adecuado: El sistema dinámico. Un sistema dinámico se

refiere a un fenómeno de carácter cambiante, es decir, que los atributos asociados a ellos

sufren variaciones o evoluciona en el tiempo debido a ciertas fuerzas implícitas que lo

generan.

           Formalmente un sistema dinámico es el objeto matemático formado por un

espacio de estados X y una regla que prescribe como varían estos estados a lo largo del

tiempo. Esta regla se puede expresar de diferentes formas pero nos interesa

fundamentalmente la siguiente:

                                  𝜕𝑥
                                       = 𝑓(𝑥)                (2.1)
                                  𝜕𝑡
                                                                                    𝜕𝑥
           En donde la función 𝑓 expresa precisamente la regla que rige el cambio        que
                                                                                    𝜕𝑡

se produce en el espacio 𝑥 ∈ 𝑋.




                                                                                          48
c)     Comportamiento

         El comportamiento de un sistema dinámico describe la trayectoria de las

magnitudes asociadas al sistema en un periodo de tiempo, esta nos indica gráficamente

que ha hecho el sistema durante ese periodo. Es decir, a algo que cambia con el tiempo le

asociamos una imagen que se muestra la trayectoria de una magnitud. La representación

gráfica de las trayectorias muestra el comportamiento del sistema al que se asocian esas

magnitudes, ya que es una imagen geométrica de ese comportamiento.

         El conjunto de las trayectorias de las magnitudes asociadas a un sistema dan

cuenta de su comportamiento durante un periodo de tiempo determinado, muestran una

imagen gráfica de que ha hecho el sistema durante ese periodo. En esas trayectorias se

pone de manifiesto los cambios que se han producido en los atributos asociados al

sistema. Por eso registramos su trayectoria

         El comportamiento, en un sentido estricto es la evolución a lo largo del tiempo,

de las magnitudes que se consideran relevantes para caracterizar los objetos considerados.

d)     Señal

         Señal, es el fenómeno físico real que varía en el tiempo y que además lleva

información. Siendo más explícitos, es como la magnitud asociada a un sistema y que

describe una trayectoria en el tiempo. Por ello, las señales se describen en la medida

posible mediante funciones matemáticas. No olvidemos que una función es una

descripción matemática de la señal.

         En el análisis de señales y sistemas, las señales más importantes son los

fenómenos que varían en el tiempo ya sean continuos o discretos y que por supuesto

existen naturalmente.




                                                                                       49
e)     Modelado

         El proceso de describir un sistema y analizarlo mediante un modelo sin construir,

a menudo recibe el nombre de modelado, con su concurso se procede a la construcción

de un objeto artificial: el modelo nos permite profundizar en el conocimiento del sistema,

conocer a que pautas responden sus cambios, y básicamente analizar racionalmente el

comportamiento de un sistema.

         El modelo es un objeto que representa a otro, es un instrumento que nos ayuda a

responder preguntas acerca de un aspecto de la realidad al que convenimos en considerar

un sistema concreto. Normalmente no tiene un carácter definitivo. Con un modelo se

pretende describir un cierto fenómeno o proceso de un sistema. Por tanto recogerá solo

aquellos aspectos que resulten relevantes con relación al sistema. No existen

descripciones neutrales.

f)     Ecuaciones diferenciales y en diferencias

         Una vez que se han definido los diferentes tipos de sistemas, es necesario

conocer la dinámica de los mismos a partir de ecuaciones que los representan y relacionen

el comportamiento de una variable respecto a otra. Las ecuaciones diferenciales y en

diferencias describen la dinámica de la gran mayoría de los sistemas en tiempo continuo

y en tiempo discreto respectivamente.

         Las ecuaciones diferenciales son aquellas en que una igualdad se expresa en

términos de una función de una o más variables independientes y derivadas de la función

con respecto a una o más de esas variables. Las ecuaciones en diferencias son aquellas en

que una igualdad se expresa en términos de una función de una o más variables

independientes y diferencias finitas de la función. Las ecuaciones diferenciales son

importantes en el análisis de señales y sistemas por que describen el comportamiento

dinámico de sistemas físicos en tiempo continuo. Las ecuaciones en diferencias resultan

                                                                                       50
importantes en el análisis de señales y sistemas en virtud de que describen el

comportamiento dinámico de sistemas de tiempo discreto.

         Tiempo discreto es simplemente puntos espaciados de forma igual en el tiempo,

separados por alguna diferencia de tiempo ∆𝑡 . En las señales y sistemas de tiempo

discreto el comportamiento de una señal y la acción de un sistema se conocen solo en

puntos discretos en el tiempo y no se definen entre esos mismos.

         Las ecuaciones diferenciales tienen varias propiedades a partir de las cuales se

clasifican de acuerdo con su tipo (ordinarias y parciales), orden (el orden es el de la

derivada de mayor orden en la ecuación) linealidad (lineal y no lineal) y también en

homogénea y no homogénea. Las ecuaciones en diferencias se clasifican de manera

similar en donde el orden de la ecuación en diferencias es la diferencia del orden más alto

después de que se pone en forma estándar.

         La gran mayoría de los sistemas se describen al menos de manera aproximada

por los tipos de ecuaciones diferenciales o en diferencias que son más fáciles de resolver:

ecuaciones diferenciales ordinarias o en diferencias con coeficientes constantes.

g)     Linealización y sistemas LIT

         El mundo real generalmente esta descrito por ecuaciones diferenciales o en

diferencias no lineales. Una técnica muy común en el análisis de señales y sistemas

consiste en utilizar los métodos de los sistemas lineales para estudiar los sistemas no

lineales. Es decir, los sistemas no lineales a menudo se linealizan para ser analizados

mediante alguna aproximación, este proceso de denomina linealización del sistema.

Desde luego el análisis no es exacto debido a que realmente no es lineal. Sin embargo

muchos sistemas no lineales pueden analizarse con buenos resultados mediante métodos

lineales si las excitaciones y respuestas son lo suficientemente pequeñas. No se cambia la

realidad del propio sistema, solo la forma en que se escribe matemáticamente.

                                                                                        51
         Por mucho, el tipo de sistema más común analizado en el diseño y análisis de

sistemas prácticos es el sistema lineal e invariante en el tiempo. Si un sistema que es tanto

lineal como invariante en el tiempo se denomina sistema LIT. La superposición es la base

de una técnica poderosa para determinar la respuesta de un sistema lineal con una

excitación arbitraria. La característica sobresaliente de las ecuaciones que describen a los

sistemas lineales es que la variable independiente y sus integrales y derivadas o sumas y

diferencias, solo aparecen elevadas a la primera potencia.

         Un sistema invariante en el tiempo es aquel que se describe mediante ecuaciones

diferenciales o en diferencias en las que los coeficientes de la variable dependiente y todas

sus integrales y derivadas o sumas y diferencias son constantes. Los coeficientes no son

funciones del tiempo. Sistema Lineal e invariante en el tiempo se caracteriza por su

respuesta al impulso y también por su función de transferencia o su respuesta en

frecuencia que es la TFTC de su respuesta al impulso.

h)      Transformada de Laplace y transformada Z

         En el análisis de señales y sistemas tenemos herramientas matemáticas que nos

ayudan facilitándonos enormemente esta tarea de análisis, así tenemos por ejemplo:

         Serie de Taylor. Una serie de Taylor es una aproximación de funciones

mediante una serie de potencias o suma de potencias enteras de polinomios

como(𝑥 − 𝑎)𝑛 llamados términos de la serie, dicha suma se calcula a partir de las

derivadas de la función para un determinado valor o punto a suficientemente derivable

sobre la función y un entorno sobre el cual converja la serie. Si esta serie está centrada

sobre el punto cero 𝑎 = 0 se le denomina serie de McLaurin. Formalmente está definido

como:

                                    𝑓 (𝑛) (𝑎)
                      𝑓(𝑥) = ∑∞
                              𝑛=0               (𝑥 − 𝑎)𝑛                   (2.2)
                                       𝑛!




                                                                                          52
         La serie de Taylor proporciona una buena forma de aproximar el valor de una

función en un punto en términos del valor de la función y sus derivadas en otro punto.

Por supuesto, para hacer esta aproximación sólo se pueden tomar unas cuantas

expresiones de esta serie, por lo que el resto resulta en un error conocido como el término

residual, es a criterio del que aplica la serie en número de términos que ha de incluir la

aproximación.

         La transformada de Laplace: La TFTC es poderosa pero tiene sus limitaciones,

expresa señales como combinaciones lineales de senoides complejas, mientras que la

transformada de Laplace expresa señales como combinaciones lineales de exponenciales

complejas las cuales son las funciones propias de las ecuaciones diferenciales que

describen a los sistemas LIT de tiempo continuo. La transformada de Laplace es más

general que la transformada de Fourier, la TL puede analizar señales o sistemas no

causales.

         La TL es una herramienta muy poderosa para el análisis y el diseño de los

mismos, permite determinar la respuesta total de una excitación arbitraria, además

generalizarla desde la función de transferencia hasta su estabilidad y su respuesta a

diversos tipos de señales.

         La transformada Z: esta herramienta no solo es equivalente a la TL en tiempo

continuo, además incrementa el intervalo de aplicaciones para el dominio de la frecuencia

al incluir señales que no tienen una TFTD, además da más conocimiento sobre la

dinámica y la estabilidad del sistema. Todo lo que sucede en 𝑥[𝑛] en TD ocurre en forma

directamente correspondiente para 𝑥(𝑡) en TC. Es posible analizar sistemas de tiempo

discreto con TLTC en puntos igualmente espaciados en el tiempo. en terminos de

notación, es conveniente utilizar la TZ




                                                                                        53
i)     Función de transferencia y ecuación de estado

         Es necesario comentar que el modelo matemático que se desarrolla a partir de

un sistema no es único, debido a lo cual se pueden lograr representaciones diferentes del

mismo proceso. Estas diferentes representaciones no contradicen una a la otra. Todas

contienen información complementaria por lo que se debe encontrar aquella que

proporcione la información de interés para cada problema en particular.

         Dentro de este contexto, por lo general se emplea la representación en "variables

de estado" aunque no por ello el método de "relación entrada-salida" deja de ser

interesante a pesar de proporcionar menor información de la planta que una función de

transferencia.

         Funciones de transferencia. Una planta o cada una de las partes que forman un

sistema de control, puede ser representada por un conjunto de ecuaciones integro-

diferenciales de n-ésimo orden con coeficientes lineales invariantes en el tiempo. Usando

la transformada de Laplace para convertir la ecuación integro-diferencial en una ecuación

algebraica considerando que las condiciones iniciales son iguales a cero llegamos a la

siguiente expresión:

                             𝑌(𝑆)     𝑏𝑚−1    𝑆 𝑚 +⋯+𝑏
                                                   1
                                  = 𝑆𝑛 +𝑎                        (2.2)
                             𝑈(𝑆)         𝑆 𝑛−1 +⋯+𝑎
                                          𝑛              1



         Esta última expresión es denominada la función de transferencia de sistema. La

función de transferencia de un sistema lineal con coeficientes constantes invariantes en el

tiempo está definida como: "La relación de la transformada de Laplace de la salida con la

transformada de Laplace de la entrada, suponiendo condiciones iniciales cero".

         El hecho de trabajar con funciones de transferencia, simplifica en gran medida

el manejo matemático de los sistemas dado que las ecuaciones diferenciales se




                                                                                        54
transforman en ecuaciones algebraicas lineales, y las operaciones en el dominio de la

frecuencia compleja S son multiplicaciones simples.

         Espacio de estados: Un método muy popular para analizar grandes sistemas es

a través del análisis de variables de estado. Un conjunto de variables de estado es un grupo

de señales en un sistema que junto con la excitación del sistema determina por completo

el estado de este mismo en cualquier tiempo futuro.

         El número de variables de estado que requiere un sistema fija el tamaño del

vector de estado y en consecuencia el número de dimensiones en el espacio de estados

que es justo un ejemplo específico de un espacio vectorial. Entonces el estado de un

sistema puede conceptualizarse como una posición en el espacio de estados.

         La terminología común es que en tanto el sistema responda a sus excitaciones,

el estado del sistema siga una trayectoria a través de ese espacio. Es un modo de describir

el recorrido a lo largo del tiempo de todos los puntos de un espacio dado. El espacio puede

imaginarse, por ejemplo, como el espacio de estados de cierto sistema físico

j)     Noción de diseño

         Diseño se define como el proceso de concebir o inventar las formas, partes y

detalles de un sistema para lograr un objetivo específico. El proceso de diseño de sistemas

en oposición al análisis de sistemas consiste en formular una función de transferencia

deseada para una clase de excitaciones que produce una respuesta o respuestas deseadas.

Una vez que se ha encontrado la función de transferencia deseada, el siguiente paso lógico

es construir en realidad o quizás simular el sistema. El primer paso en la construcción o

simulación corresponde a formar un diagrama de bloques que describa la interacción entre

todas las señales. Este paso se denomina “realización” y surge del concepto de hacer un

sistema real en vez de solo un conjunto d ecuaciones que describan su comportamiento.



                                                                                         55
         La realización se puede desarrollar de tres formas: canónica o directa, en cascada

y en paralelo. Cuando los sistemas se simulan mediante métodos computacionales la

forma de la realización el sistema tiene un efecto en la precisión y abecés en la estabilidad

de la realización. Las formas en paralelo y en cascada resultan con menos error en la

medición que en la forma canónica por que los cálculos son más localizados.

k)     Diagramas de Bloques

         Los diagramas de bloques son una representación gráfica de las variables de un

sistema, y está constituido de tres partes principales: Elementos, Detectores de error y

Puntos de Bifurcación.

         Un elemento muestra la dependencia funcional de una variable con respecto a la

otra. Por lo general en un bloque se incluye una función de transferencia parcial que a su

vez puede ser usada para generar un bloque que represente al sistema total.


                                       X(S)                            Y(S)
                                                               G(S)



                                    Figura Nº 10 Un bloque como elemento.
                                            Elaborado por el autor

         Un detector de error (figura 1.21) es una parte del diagrama que entrega la

diferencia de dos señales incidentes. En ocasiones este elemento puede ser usado como

un sumador de señales
                             R(S)                     R(S)=R(S)-C(S)
                                       +                                  X(S)    X(S)
                                           -
                                                                                 X(S)
                                               C(S)


              Figura Nº 11 detector de error en la izquierda y punto de bifurcación a la derecha.
                                           Elaborado por el autor

         Y por último un punto de bifurcación es aquél donde una salida se deriva hacia

otros elementos del diagrama (figura 1.22). Usando estos elementos básicos es posible


                                                                                                    56
obtener la representación en diagramas de bloques de un sistema de control de lazo

cerrado.

           Es importante hacer notar que las señales en cada punto del diagrama de bloques

pueden ser de naturaleza totalmente diferente una de la otra, es decir, mientras la salida

puede ser temperatura , la señal a la salida del sistema de medición B(s) puede ser voltaje,

presión, corriente, intensidad luminosa, etc.

2.2.3.2 SISTEMA DE DATOS MUESTREADOS

           La segunda etapa de nuestro proyecto, consiste básicamente en convertir la señal

analogía proveniente de nuestro sistema físico a una señal digital. Este proceso, se inicia

al muestrear la señal en tiempo continuo a través de un dispositivo que nos permita

realizar esta tarea. Pero este dispositivo no solamente convierte la señal analógica en

digital, sino también realiza el proceso inverso, es decir de digital a analógico, por

supuesto que ello depende del código que le imprimamos al microcontrolador.

           Los sistemas modernos a menudo utilizan subsistemas en TD para sustituir a los

en TC para incrementar la flexibilidad y confiabilidad del sistema. Los sistemas que

contienen tanto subsistemas en tiempo discreto como en tiempo continuo y mecanismos

para convertir entre si señales en TD y en TC se denominan sistemas de datos muestreados

o en ocasiones sistemas híbridos.

           El primer tipo de sistemas de datos muestreados utilizado para sustituir un

sistema en TC surge de una idea natural. Se convierte una señal en TC en una en TD con

un convertidor analógico-digital (CAD). Se procesan las muestras del CAD en un sistema

en TD de algún tipo. Luego se convierte la respuesta en TD de nuevo a la forma en TC

mediante un convertidor digital-analógico (CDA). El diseño deseado tendría una

respuesta del sistema de datos muestreados muy cercana a la que tendría proveniente del



                                                                                         57
TC, para realizar lo anterior debe elegirse ℎ[𝑛] de manera apropiada y para eso es

necesario entender también las acciones de los CAD y los CDA.

a)     Digitalización

       La digitalización o conversión analógica-digital (conversión A/D) consiste

básicamente en realizar de forma periódica medidas de la amplitud (tensión) de una señal

redondear sus valores a un conjunto finito de niveles preestablecidos de tensión

(conocidos como niveles de cuantificación) y registrarlos como números enteros en

cualquier tipo de memoria o soporte. En esta definición están patentes los cuatro procesos

que intervienen en la conversión analógica digital:


Muestreo

       Muestrear una señal, es el proceso de adquirir sus valores de una señal solo en

puntos discretos en el tiempo. Consiste en tomar muestras periódicas de la amplitud de

onda de una señal analógica a una frecuencia de muestreo (número de muestras por

segundo) o taza de muestreo constante, para cuantificarlas posteriormente.

         Una manera de visualizar el muestreo, es mediante el ejemplo de una señal de

voltaje y un interruptor utilizado como un muestreador ideal. El interruptor se cierra en

un tiempo infinitesimal en puntos discretos definidos en el tiempo.



                             ℎ(𝑡)                                      ℎ[𝑛]

                                                                                   𝑇𝑠
                                                𝑤𝑠     𝑓𝑠

                   Figura Nº 12 Muestreador ideal uniforme representada de forma
                   aproximada desde la velocidad angular imaginaria del interruptor.
                                       Elaborado por el autor

         La figura Nº 12 puede entenderse mejor si imagina que el interruptor gira a una

velocidad cíclica constante 𝑓𝑠 en ciclos por segundo o a una velocidad angular constante

𝑤𝑠 en radianes por segundo. En este caso el tiempo entre muestras es:

                                                                                        58
                                       1    2𝜋
                                 𝑇𝑠 = 𝑓 = 𝑤                   (2.3)
                                       𝑠     𝑠


         Los valores de ℎ(𝑡) que se adquieren en los instantes muestreados de muestreo

son ℎ(𝑛𝑇𝑠 ) La especificación del tiempo de la muestra 𝑛𝑇𝑠 puede sustituirse

especificando simplemente el número 𝑛 que define el índice de la muestra.

         Por simplicidad, convenimos la igualdad          ℎ[𝑛] = ℎ(𝑛∆𝑡), los paréntesis

cuadrados distinguen a una función de tiempo discreto de una función de tempo continuo.

En la notación ℎ[𝑛], el tiempo no se indica de manera explícita, puesto que el tiempo

entre valores en tiempo discreto consecutivos de la función ℎ siempre es ∆𝑡 que es lo

mismo que el tiempo fijo y constante entre muestras denotado por 𝑇𝑠 , por ello es que no

se necesita indicar el tiempo en forma explícita.

Retención:

       Las muestras tomadas han de ser retenidas (retención) por un circuito de retención

(hold), el tiempo suficiente para permitir evaluar su nivel (cuantificación). Desde el punto

de vista matemático este proceso no se contempla, ya que se trata de un recurso técnico

debido a limitaciones prácticas, y carece, por tanto, de modelo matemático.

Cuantificación:

       Proceso de limitar los valores de amplitud de la señal muestreada en un conjunto

de valores finitos de amplitud. Se mide el nivel de voltaje de cada una de las muestras.

Consiste en asignar un margen de valor de una señal analizada a un único nivel de salida.

Incluso en su versión ideal, añade, como resultado, una señal indeseada a la señal de

entrada: el ruido de cuantificación.


Codificación:

       La codificación consiste en traducir los valores obtenidos durante la cuantificación

al código binario. Hay que tener presente que el código binario es el más utilizado, pero
                                                                                         59
también existen otros tipos de códigos que también son utilizados. Durante el muestreo y

la retención, la señal aún es analógica, puesto que aún puede tomar cualquier valor. No

obstante, a partir de la cuantificación, cuando la señal ya toma valores finitos, la señal ya

es digital.

b)      Aliasing.

        Efecto que causa que las señales continuas distintas se tornen indistinguibles

cuando se muestrean. Cuando esto sucede, la señal original no puede ser reconstruida de

forma univoca a partir de la señal digital

c)      Adquisición de datos

        En la aplicación de procesamiento de señales reales, en sistemas reales muchas

veces no se tiene una descripción matemática de las señales, es necesario medirlas y

analizarlas para descubrir sus características. Si se desconoce la señal, el proceso de

análisis se inicia con la adquisición de la misma. Adquisición de datos, es el proceso de

medir, digitalizar la señal, analizar, presentar, guardar los datos y registrar la señal desde

un fenómeno del mundo real en un periodo de tiempo. Un sistema de adquisición de datos

involucra básicamente las siguientes partes: figura 2.12.

     SEÑAL DE ENTRADA/SALIDA           HARDWARE CAD/CDA                 PROCESO Y APLICACIONES

     ANALÓGICO

      DIGITAL

      CONTADOR

       SENSOR

      ACTUADOR
                                    ADQUISICION DE DATOS                            SISTEMA


                       Figura Nº 13 Partes de un sistema de adquisición de datos.
                                        Elaborado por el autor

          Los sistemas de adquisición de datos incorporan señales, sensores, actuadores,

acondicionadores de señal, dispositivos de adquisición de datos y software de

aplicaciones. Mientras cada sistema de adquisición de datos es definido por estos
                                                                                                 60
requerimientos de aplicación, todos los sistemas buscan un objetivo común el de adquirir,

analizar y presentar la información.

Señal física de entrada y salida: Una señal física de entrada y salida es típicamente una

señal de voltaje o corriente.

Hardware o dispositivo de adquisición de datos: El        dispositivo   o    hardware    de

adquisición de datos (DAQ) actúa como una interfaz entre la computadora y el mundo

exterior. Su función principal es actuar como un dispositivo que digitaliza señales

analógicas tantos como el computador puede interpretar. Un dispositivo de adquisición

de datos usualmente tiene funciones como: Entradas analógicas, Salidas analógicas,

Entradas y salidas digitales, Contadores y relojes.

Driver software: El driver o el programa driver es la capa de software que facilita la

comunicación con el hardware. Este conforma la capa media entre el software de

aplicación y el hardware. El programa driver también prevee a un programador tener el

nivel de registro de programación o comandos complicados en orden para acceder a las

funciones de hardware.

Proceso y aplicación: El programa de aplicación agrega la posibilidad de análisis y

presentación al programa driver. Nuestro programa de aplicación normalmente realiza

tareas como: Monitoreo en tiempo real, Análisis de datos, Muestreo de datos, Algoritmos

de control y ofrece interfaz maquina humana (HMI)

2.2.3.3 PROCESAMIENTO Y BASE DE DATOS

         Una vez digitalizada nuestra señal, lo siguiente es procesarla o manipularla con

algunas técnicas matemáticas o algoritmos informáticos, de tal manera que la señal

adquirida nos sea útil para nuestro propósito. Que no es más que almacenar la señal

digital, tan parecida a la analógica para ser reproducida y distribuida en tiempo real sobre

un área teóricamente ilimitada.

                                                                                         61
a)     Procesamiento

         El procesamiento de señal es la aplicación de una serie de operaciones lógicas y

matemáticas a un conjunto de datos provenientes de una señal para modificarla, mejorarla

o transformarla de algún modo para producir información significativa, mediante la ayuda

de un ordenador.

         En un sistema de instrumentación que mide por ejemplo el nivel de agua en un

reservorio en un proceso industrial, no se sabe exactamente como varia los parámetros de

estos procesos. A pesar de eso, sus variaciones se encuentran normalmente dentro de

algún intervalo conocido y es posible que no varíe más que alguna medida o velocidad

máxima debido a las limitaciones físicas del proceso. Este conocimiento permite diseñar

un sistema de procesamiento apropiado. Este tipo de señales suelen tratarse como si

fueran aleatorias y generalmente se tratan con filtros.

b)     Filtros

         Un filtro se podría decir que es un dispositivo que separa algo deseable de algo

indeseable. En nuestro caso podría definirse como un dispositivo para separar valores de

la señal por encima o por debajo de cierto nivel o dentro y fuera de ciertos intervalos de

nivel. En forma convencional, un filtro es un dispositivo que separa la potencia de una

señal en un intervalo de frecuencias de la potencia en otro intervalo de frecuencias.

c)     Eliminación de ruido

         Toda señal útil siempre tiene una señal indeseable agregada a ella llamada ruido.

Un uso muy importante de los filtros es la eliminación del ruido de una señal. Las fuentes

de ruido son muchas y variadas. Mediante el diseño cuidadoso, es posible reducir el ruido

hasta un mínimo pero nunca puede eliminarse por completo.

         En informática un filtro digital se implementa a partir del estudio y análisis de

filtros analógicos, estos son modelados, linealizados y discretizados mediante algoritmos

                                                                                        62
matemáticos y finalmente implementados en sistemas discretos mediante algoritmos

informáticos que permiten representar datos como secuencias de bits.

d)     Algoritmos

         No existe una definición formal y única de algoritmo, pero una definición

aplicable al ámbito de la informática, suele ser como el número fijo de pasos,

instrucciones o acciones necesarios para transformar información de entrada (el

problema) en una salida (la solución) y realizar una tarea. De todas formas, algunos

algoritmos carecen de final o no resuelven un problema en particular. Existen ciertas

propiedades que alcanzan a todos los algoritmos, con excepción de los denominados

algoritmos paralelos: el tiempo secuencial (los algoritmos funcionan paso a paso), el

estado abstracto (cada algoritmo es independiente de su implementación) y la exploración

acotada (la transición entre estados queda determinada por una descripción finita y fija).

e)     Base de datos

         Después de obtener una señal útil, la siguiente tarea es almacenar la información

para ser reutilizada con el fin de desarrollar un sistema de control distribuido. Almacenar

información no es otra cosa que guardar o registrar la señal discreta en una base de datos.

         Una base de datos (cuya abreviatura es BD) es una entidad en la cual se pueden

almacenar datos de manera estructurada, con la menor redundancia posible con el

propósito de proporcionar visualizar, ingresar o actualizar información a diferentes

usuarios al mismo tiempo. Por ello, el concepto de base de datos generalmente está

relacionado con el de red ya que se debe poder compartir esta información. De allí el

término base. "Sistema de información" es el término general utilizado para la estructura

global que incluye todos los mecanismos para compartir datos que se han instalado. Una

base de datos puede ser local, es decir que puede utilizarla sólo un usuario en un equipo,



                                                                                        63
o puede ser distribuida, es decir que la información se almacena en equipos remotos y se

puede acceder a ella a través de una red.

f)     Gestores de bases de datos

         Un gestor de base de datos es un programa diseñado para la manipulación y

administración de los datos almacenados en la base de datos. Esta tarea realiza con un

sistema llamado DBMS (Database management system) que es un conjunto de servicios

(aplicaciones de software) que permite: un fácil acceso a los datos, el acceso a la

información por parte de múltiples usuarios y la manipulación de los datos encontrados

en la base de datos (insertar, eliminar, editar)




                        Figura Nº 14 subsistemas de un sistema de administración de
                            bases de datos o sistema de gestión de base de datos


         El DBMS puede dividirse en tres subsistemas: El sistema de administración de

archivos: para almacenar información en un medio físico. El DBMS interno: para ubicar

la información en orden y El DBMS externo: representa la interfaz del usuario.

2.2.3.4 SISTEMAS DE COMUNICACIÓN O RED DE DATOS

         Para que los datos almacenados puedan ser utilizados por los distintos usuarios

para distintos fines, el sistema requiere de un sistema de comunicación que nos permita

la transmisión y recepción de datos a una alta velocidad y en tiempo real.

       Un sistema de comunicación se define como un conjunto de componentes,

subsistemas u ordenadores independientes que permiten la transferencia o intercambio de

información a través de un medio de red compartido. La transferencia de información de
                                                                                      64
un lugar a otro debe ser eficiente, confiable y segura a través de los distintos medios

existentes ya sean cableados o inalámbricos.

a)        Redes de área local (LAN)

           Es un grupo de equipos que están conectados dentro de un área geográfica

relativamente pequeña a través de una red en su versión más simple, generalmente con la

misma tecnología (la más utilizada es Ethernet). La velocidad de transferencia de datos

en una red de área local depende de la tecnología que se use y oscila desde los 10 Mbps

hasta 1 Gbps. Las redes LAN se pueden conectar entre ellas a través de líneas telefónicas

y ondas de radio. Un sistema de redes LAN conectadas de esta forma se llama una WAN,

siglas del inglés de wide-area network.

b)        Protocolos

           Los protocolos de red son normas que permiten a los ordenadores comunicarse.

Un protocolo define la forma en que los ordenadores deben identificarse entre si en una

red, la forma en que los datos deben transitar por la red, y cómo esta información debe

procesarse una vez que alcanza su destino final. Los protocolos también definen

procedimientos para gestionar transmisiones o "paquetes" perdidos o dañados.

           Aunque cada protocolo de la red es diferente, todos pueden compartir el mismo

cableado físico. Este concepto es conocido como "independencia de protocolos," lo que

significa que dispositivos que son compatibles en las capas de los niveles físicos y de

datos permiten al usuario ejecutar muchos protocolos diferentes sobre el mismo medio

físico.

c)        Ethernet

           Es un estándar de redes de área local que se base el principio de que: Todos los

equipos en una red Ethernet están conectados a la misma línea de comunicación

compuesta por cables cilíndricos. Ethernet define las características de cableado y
                                                                                        65
señalización de nivel físico y los formatos de tramas de datos del nivel de enlace de datos

del modelo OSI. Especificado en una norma, IEEE 802.3. Una LAN Ethernet suele

utilizar cable coaxial o calidades especiales de cables de par trenzado. Ethernet también

se utiliza en las redes LAN inalámbricas.

         La comunicación se lleva a cabo por medio de la utilización un protocolo

denominado CSMA/CD (Carrier Sense Multiple Access with Collision Detect que

significa que es un protocolo de acceso múltiple que monitorea la portadora: detección de

portadora y detección de colisiones). Con este protocolo cualquier equipo está autorizado

a transmitir a través de la línea en cualquier momento y sin ninguna prioridad entre ellos.

Esta comunicación se realiza de manera simple: Cada equipo verifica que no haya

ninguna comunicación en la línea antes de transmitir. Si dos equipos transmiten

simultáneamente, entonces se produce una colisión (o sea, varias tramas de datos se

ubican en la línea al mismo tiempo). Los dos equipos interrumpen su comunicación y

esperan un período de tiempo aleatorio, luego una vez que el primero ha excedido el

período de tiempo, puede volver a transmitir.

d)     Ethernet industrial

         Está basado en el estándar IEEE 802.3 par Ethernet y 802.11 para wireless LAN.

Sus avances radican en la seguridad de procesos de automatización en cuando al ancho

de banda o mayor velocidad, protección de la red y datos dentro de la empresa. Para los

procesos que requieren de comunicaciones inalámbricas de fácil movilidad y

conectividad ofrecen un sistema fiable, robusto y seguro. En el campo industrial, son

indispensables una alta velocidad e inmunidad al ruido. Tanto Ethernet como IEEE 802.3

están implementadas en hardware, en general a través de una tarjeta de interface en un

ordenador o a través de una placa principal en el propio ordenador




                                                                                        66
e)     Arquitectura

         En general se podría ver a un sistema distribuido como la unión de una

tecnología de red y el uso de potentes maquinas multiprocesadores. Cuando se vaya a

diseñar un sistema distribuido se debe de considerar las siguientes características:

compartición de recursos, apertura, concurrencia, escalabilidad, tolerancia a fallos y

transparencia. Para ello se plantean varias arquitecturas.

       Arquitectura cliente-servidor: En este entorno un equipo central brinda

servicios de red a los usuarios. En este modelo ay dos tipos de procesos, los clientes son

procesos que hacen peticiones se servicio y los servidores proveen esos servicio.




                                                             Figura Nº 15

                                                      Arquitectura cliente-servidor




       Arquitectura Peer-To-Peer (P2P): En esta arquitectura "de igual a igual" la

comunicación se lleva a cabo de un equipo a otro sin un equipo central y cada equipo

tiene la misma función, la comunicación es simétrica. Se aprovechan, administran y

optimizan el uso del ancho de banda de los demás usuarios por medio de su conectividad,

obteniendo más rendimiento en las conexiones y transferencias.




                                                             Figura Nº 16

                                                       Arquitectura Peer-To-Peer




       Arquitectura servidor Proxy: un proxy es un servidor intermediario que acepta

peticiones http de clientes u otros intermediarios y genera a su vez peticiones hacia otros
                                                                                        67
intermediarios o hacia el servidor web destino. Actúa como servidor del cliente y como

cliente del servidor; realiza un cierto tipo de funciones a nombre de otros clientes en la

red para aumentar el funcionamiento de ciertas operaciones, también sirve de seguridad,

esto es, tiene un firewall. Permite administrar el acceso a internet en una red de

computadoras permitiendo o negando el acceso a diferentes sitios web.




                                                              Figura Nº 17

                                                       Arquitectura servido proxy




       Arquitectura agentes móviles: los agentes móviles son programas de software

capaces de viajar por redes de computadoras como internet, de interactuar con hosts, pedir

información a nombre de un usuario y regresar a un lugar de origen una ves que ha

realizado las tareas especificadas por un usuario. Creado en un ambiente de ejecución, el

agente puede transportar su estado y código a otro contexto en donde reanudara la

ejecución. Un agente móvil tiene capacidad para decidir a qué servidores moverse y puede

moverse a uno o más servidores. Es una extensión del modelo cliente-servidor.




                               Figura Nº 18 Sistemas compatibles




                                                                                       68
f)     Estandarización

       Un anhelo perseguido durante muchos años ha sido conseguir una red de

comunicaciones única que permita dar solución a todos los niveles de la pirámide de

control. Ethernet Industrial está consiguiendo diferenciarse como estándar de facto en

parte a que aprovechando la ventaja competitiva de los grandes desarrollos realizados en

su uso ofimático se han desarrollado soluciones industriales que han eliminado los

problemas que hacían inadecuado Ethernet para su uso en los niveles más bajos de la

planta. Una consecuencia inmediata de este hecho es que los niveles tradicionales de la

pirámide ya no están tan diferenciados siendo el medio de comunicación físico el mismo:

Ethernet Industrial, solo se diferenciarían por los servicios que cada uno de ellos

demandaría.

         La estandarización simplificaría el diseño, la operación y el mantenimiento del

sistema, además nos proporciona conectividad Ethernet/IP de red y administración de

datos mejorada. Con el enfoque de una sola red se facilitaría el intercambio de datos,

desde programas de alto nivel hasta las señales on/off más sencillas.

2.2.3.5 APLICACIONES DE CONTROL Y SUPERVISIÓN

         Una de las características de nuestro sistema es ofrecer al usuario una manera de

gestionar, monitorear, supervisar, controlar y tener acceso a la información de algún

proceso; de una manera ágil, intuitiva y amigable desde algún dispositivo conectado a la

red de manera inalámbrica o cableada. Esta tarea se lleva a cabo gracias al software de

aplicación específicos desarrollados para este fin.

a)     Programas o aplicaciones informáticas

         Un programa es un tipo de software diseñados para o por los usuarios para

facilitar la realización de tareas específicas en la computadora. Los programas requieren

de algún sistema operativo y de una previa instalación para poder ser usados, también


                                                                                       69
varían dependiendo del sistema operativo que se use. En Mac, a estos programas se los

llama aplicaciones.

         La particularidad de hacer más sencilla la concreción de un determinado trabajo

lo distingue del resto de los programas, entre los cuales se pueden citar a los sistemas

operativos (que son los que permiten el funcionamiento de la computadora), los lenguajes

de programación (aquellos que dan las herramientas necesarias para desarrollar los

programas informáticos en general) y las utilidades (pensadas para realizar acciones de

mantenimiento y tareas generales).

         En ocasiones, los programas de aplicación son diseñados a medida, es decir,

según las necesidades y pretensiones de cada usuario. Esto demuestra que las aplicaciones

informáticas sirven para automatizar tareas. El software permite resolver dificultades

específicas, en otros casos, se trata de paquetes integrados que solucionan problemas

generales e incluyen múltiples aplicaciones. El programa de aplicación agrega al sistema

la posibilidad de análisis y presentación. Nuestro programa de aplicación normalmente

realiza tareas como: Monitoreo en tiempo real, Análisis de datos, Algoritmos de control

y ofrece interfaz maquina humana (HMI)

b)     Relación entre software y hardware

         El software es el elemento intangible y lógico que forma parte de una

computadora. El hardware, en cambio, es el componente material y físico.

         Se distinguen tres componentes básicos de software: Presentación: Tiene que ver

con la presentación al usuario de un conjunto de objetos visuales y llevar a cabo el

procesamiento de los datos producidos por el mismo y los devueltos por el servidor.

Lógica de aplicación: Esta capa es la responsable del procesamiento de la información

que tiene lugar en la aplicación. Y Base de datos: Está compuesta de los archivos que

contienen los datos de la aplicación.



                                                                                      70
2.3     GLOSARIO DE TÉRMINOS BÁSICOS

Señales

        Una señal es cualquier fenómeno físico que varíe en el tiempo y que se pretende

usar para transmitir información, entre los ejemplos de señales modernas de alta

velocidad se encuentran los voltajes en los cables telefónicos, los campos eléctricos que

emanan de los transmisores de radio y televisión y las variaciones de la intensidad

luminosa en una fibra óptica o en una red telefónica o de computadoras.

        Las señales se procesan u operan por medio de sistemas. Cuando una o más

señales de excitación se aplican a una o más entradas del sistema, éste produce una o más

señales de respuesta en sus salidas.

      Excitación                   Entrada    SISTEMA         Salida                     Respuesta

                   Figura Nº 19 Explicación grafica de integración de señal y sistema.
                                        Elaborado por el autor

Ruido

        El ruido, que algunas veces se denomina señal aleatoria o perturbación. Es como

una señal en la que el fenómeno físico varía en el tiempo, pero a diferencia de una señal

no suele llevar información útil y casi siempre se considera indeseable. Tiende a afectar

adversamente el valor de la salida de un sistema. . Si una perturbación se genera dentro

del sistema, se denomina interna, mientras que una perturbación externa se genera fuera

del sistema y es una entrada.

Sistemas

        Un sistema es un objeto formado por un conjunto de partes entre las que se

establece alguna forma de relación estructurada que las articula en la unidad que es

precisamente el sistema. Un sistema se nos manifiesta como un aspecto de la realidad

dotado de cierta complejidad precisamente por estar formado por partes en interacción.


                                                                                                     71
Esta interacción coordina a las partes dotando al conjunto de una entidad propia las partes

y la interacción entre ellas son los elementos básicos en esa concepción de sistema.

       Un sistema se prescribe como algo que posee una entidad que lo distingue de su

entorno, aunque mantiene interacción con él. Esta identidad permanece a lo largo del

tiempo y bajo entornos cambiantes. Por tanto un sistema es un cierto aspecto de la realidad

al que podemos adscribir una descripción en la que básicamente se enuncien una serie de

partes componentes y una forma de interacción entre ellas que suministre un vínculo que

las organice en la unidad que es el sistema.

       Otros tipos de sistemas también procesan señales que se analizan mediante el

análisis de señales. Los instrumentos científicos que miden un fenómeno físico

(temperatura, presión, velocidad, etc.) convierten ese fenómeno en una señal de voltaje o

de corriente. Los sistemas de control de edificios comerciales y de procesos de una planta

industrial, los sistemas electrónicos de los aviones, el control de encendido y bombeo de

combustible en los automóviles, etc. Son sistemas que procesan señales.

Tiempo real

       Los sistemas en tiempo real son sistemas en los cuales deben producirse la

respuesta correcta en un espacio definido de tiempo. Si la respuesta del computador

excede ese espacio de tiempo, entonces se obtendrá una degradación del desempeño y un

mal funcionamiento.

       El espacio de tiempo está determinado por los requerimientos del proceso. Por

ejemplo, una transacción bancaria puede aceptar tiempos del orden de los segundos, pero

un sistema de control de velocidad de un motor requiere generalmente tiempos mucho

menores, el sistema debe muestrear la señal de velocidad por lo menos cada 10

milisegundos, ya que de otra manera el sistema de control no funcionaría correctamente.




                                                                                        72
Proceso

       Se define como una operación o conjuntos de pasos con una secuencia

determinada, que producen una serie de cambios graduales que llevan de un estado a otro,

y que tienden a un determinado resultado final. Dicho de otro modo, es una operación

natural o artificial progresivamente continua o desarrollo marcado por una serie de

cambios graduales controlados sistemáticamente que se suceden de una manera

relativamente fija y conducen hacia un resultado o propósito determinado.

Prototipo

       Para este proyecto se refiere a cualquier tipo de maquina en pruebas o un objeto

diseñado para una demostración de cualquier tipo.

Control

       Métodos para conseguir que un conjunto de variables o parámetros varíen a lo

largo del tiempo de alguna forma previamente definida. Esta palabra también se usa para

designar regulación, gobierno, dirección o comando dicho de otro modo: es la acción de

comandar, dirigir o regular, asimismo o a otro sistema dinámicamente.

Supervisión

       La supervisión es la observación regular y el registro de las actividades que se

llevan a cabo en un proyecto o programa. Es un proceso de observación sistemática e

intencionada y recogida rutinaria de información sobre todos los aspectos y actividades

durante el progreso de un proyecto.

       La supervisión proporciona información mediante informes, los informes

posibilitan el uso de la información recabada para mejorar el rendimiento del proyecto y

en esencia para la toma de decisiones. Además de: analizar la situación del proyecto,

determinar si los equipos se utilizan bien, Identificar los problemas a los que se enfrenta

el proyecto y encontrar soluciones, asegurarse de que todas las actividades se llevan a
                                                                                        73
cabo convenientemente y a tiempo, usar las experiencias de un proyecto en otro y

determinar si la forma en la que se ha planificado el proyecto es la manera óptima de

solucionar el problema que nos ocupa.

Plataforma

       En informática, una plataforma es una combinación de hardware y software sobre

el cual puede ejecutarse aplicaciones o desarrollarse un software. El software en general

está escrito de modo que dependa de las características de una plataforma particular; bien

sea el hardware, sistema operativo, o máquina virtual en que se ejecuta.

       Plataformas de Hardware: Una plataforma de hardware es una arquitectura de

computador o de procesador. Por ejemplo, los procesadores x86 y x86-64 son las

arquitecturas más comunes actualmente para los computadores caseros.

       Plataformas de Software: Pueden ser un sistema operativo, un entorno de

programación, o una combinación de ambos. Una excepción notable es el lenguaje de

programación Java, que usa una máquina virtual independiente del sistema operativo para

leer el código compilado, conocido en la jerga de Java como bytecode.

Multiplataforma

       Multiplataforma es un término usado para refiere a un programa, una aplicación

lenguajes de programación u otra clase de software (producto informático) que puedan

ser utilizado por distintos sistemas o entornos. Funcionar en diversas plataformas

Entorno de programación

       Un entorno de programación es conocido también como un entorno de desarrollo

integrado (IDE), que ha sido empaquetado como un programa de aplicación, es decir,

consiste en un editor de código, un compilador, un depurador y un constructor de interfaz

gráfica (GUI).


                                                                                       74
Los IDE proveen un marco de trabajo amigable para la mayoría de los lenguajes de

programación tales como C++, PHP, Python, Java, C#, Delphi, Visual Basic, etc. En

algunos lenguajes, un IDE puede funcionar como un sistema en tiempo de ejecución, en

donde se permite utilizar el lenguaje de programación en forma interactiva, sin necesidad

de trabajo orientado a archivos de texto.

DELPHI

       Delphi es un entorno de desarrollo de software diseñado para la programación de

propósito general con énfasis en la programación visual. En Delphi se utiliza como

lenguaje de programación una versión moderna de Pascal llamada Object Pascal. Es

producido comercialmente por la empresa estadounidense Embarcadero. En sus

diferentes variantes, permite producir archivos ejecutables para Windows, Linux y la

plataforma .NET. CodeGear ha sido escindida de la empresa Borland, donde Delphi se

creó originalmente, tras un proceso que pretendía en principio la venta del departamento

de herramientas para desarrollo. El nombre Delphi. El nombre Delphi hace referencia al

oráculo de Delfos. Borland eligió ese nombre para resaltar su principal mejora con

respecto a su antecesor (Turbo Pascal), que sería su conectividad con bases de datos

Oracle (oráculo, en inglés).

       En septiembre de 2006 Borland lanzó TurboDelphi como una versión reducida de

Delphi. Hay dos versiones: Turbo Delphi for Windows y Turbo Delphi for .NET, ambas

disponibles en dos ediciones Professional y la gratuita Explorer

FIREBIRD

       Es un sistema de administración de bases de datos de código abierto, que tiene su

origen en la versión 6 de Interbase. Este sistema de bases de datos relacional proporciona

muchas de las características implementadas en el estándar ANSI SQL. El programa es

multiplataforma y puede trabajar sistemas operativos tan dispares como Windows, Mac

o Linux. Algunas características son: arquitectura cliente/servidor sobre protocolo
                                                                                       75
TCP/IP; soporte para transacciones y claves foráneas; seguridad basada en usuarios y

roles. Además FireBird proporciona dos tipos distintos de servidor: Classic y Super

Server. La principal diferencia entre ellos reside en la forma como se realiza la conexión,

ya que Super Server crea hilos independientes para cada una.

Lenguaje de Consultas Estructurado

       El lenguaje de consulta estructurado o SQL (por sus siglas en inglés Structured

Query Language) es un lenguaje declarativo de acceso a bases de datos relacionales que

permite especificar diversos tipos de operaciones en éstas. Una de sus características es

el manejo del álgebra y el cálculo relacional permitiendo efectuar consultas con el fin de

recuperar una forma sencilla- información de interés de una base de datos, así como

también hacer cambios sobre ella. (Pérez, 2007)

Automatización

       La automatización es la ejecución autónoma y coordinada de las tareas necesarias

para operar un proceso en forma óptima, ajustando su desempeño a los lineamientos

establecidos por los organismos de dirección.

Automática

       Disciplina que trata los métodos y procedimientos cuya finalidad es la sustitución

del operador humano por un operador artificial en la ejecución de una tarea física o mental

previamente programada

Sensores

       Dispositivos que miden las variables a controlar, las de perturbación y variables

de proceso secundarias a partir de las que se infiere el valor de otras no medibles o de

medida costosa. Se basan en la reproducción de un fenómeno físico cuya magnitud está

relacionada con la que se mide.

                                                                                        76
Transmisor

       Convierte la magnitud del efecto físico del sensor (Analógica, digital, neumática)

en una señal estándar eléctrica

Controladores

       Recibe la señal correspondiente a la variable medida y calcula la acción de control

de acuerdo al algoritmo que tiene programado. La salida, señal estándar, se envía al

elemento final de control.

Actuadores

       Manipula la variable de proceso de acuerdo a la acción calculada por el

controlador. La señal de control le llega en magnitud estándar

Servomecanismo

       Sistema de control realimentado cuya salida es una posición mecánica

Sistemas embebidos

       Un sistema embebido es un sistema informático diseñado para realizar una o unas

pocas funciones dedicadas a menudo con limitaciones de computación en tiempo real.

Está incrustado como parte de un dispositivo completo a menudo incluyendo hardware y

partes mecánicas.

       Los sistemas embebidos o empotrados son controlados por uno o más principales

núcleos de procesamiento que es típicamente un microcontrolador o un procesador de

señal digital (DSP). La característica clave es que está dedicada a manejar una tarea en

particular, que puede requerir procesadores muy potentes. Dado que el sistema embebido

está dedicada a tareas específicas, los ingenieros de diseño pueden optimizar la reducción

del tamaño y el coste del producto y aumentar la fiabilidad y el rendimiento.


                                                                                       77
Multitarea

       En informática, la multitarea es un método por el cual múltiples tareas, también

conocidos como procesos, comparten recursos de procesamiento comunes tales como

CPU. Con un sistema operativo multitarea se puede ejecutar simultáneamente múltiples

aplicaciones.

       La multitarea se refiere a la capacidad del sistema operativo para cambiar

rápidamente entre cada tarea informática para dar la impresión de las diferentes

aplicaciones se ejecutan varias acciones al mismo tiempo.

Middleware

       Se define como una capa de software cuyo propósito es ocultar la heterogeneidad

y proveer de un modelo de programación conveniente para los desarrolladores de

aplicaciones. Es un término que abarca a todo el software necesario o capa de software

que se ejecuta sobre el sistema operativo local para el soporte de interacciones entre

Clientes y Servidores principalmente en aplicaciones distribuidas.




                           Figura Nº 20 Capa de software: Middleware


       Middleware es un sistema abierto independiente del fabricante, así mismo no

depende del hardware o sistema operativo subyacente. Se encuentra representado por

procesos u objetos que actúan en un conjunto de computadoras y que se comunican con

el fin de proporcionar soporte para compartición de recursos en un sistema distribuido.

Podemos mencionar dos tipos de middleware:

Software intermedio general. Servicios generales que requieren todos los clientes y

servidores, por ejemplo: software para las comunicaciones usando el TCP/IP, software

                                                                                    78
parte del sistema operativo que, por ejemplo, almacena los archivos distribuidos, software

de autenticación, el software intermedio de mensajes de clientes a servidores y viceversa.

Software intermedio de servicios. Software asociado a un servicio en particular, por

ejemplo: software que permite a dos BD conectarse a una red cliente/servidor, software

de objetos distribuidos, por ejemplo la tecnología CORBA permite que objetos

distribuidos creados en distintos lenguajes coexistan en una misma red.

Microprocesador

       Básicamente, un microprocesador es un chip que contiene la unidad completa de

procesamiento central de un equipo. Los microprocesadores son de usos múltiples, lo que

significa que se pueden utilizar para llevar a cabo diferentes tareas y funciones y que son

destinados para dispositivos de múltiples propósitos.

Microcontrolador

       Los microcontroladores son circuitos integrados capaces de ejecutar órdenes que

fueron grabadas en su memoria. Su composición está dada por varios bloques funcionales,

los cuales cumplen una tarea específica. Un microcontrolador es un dispositivo muy

especializado y capaz de realizar sólo una gama muy limitada de funciones o procesos

los cuales son definidos mediante la programación. Así como una unidad de procesador,

los microcontroladores incluyen otros elementos que les permiten funcionar de forma

independiente de un sistema informático. Un micro controlador está constituido en su

interior por las tres principales unidades funcionales de una computadora, las cuales son:

unidad central de procesamiento, memoria y periféricos de entrada y salida.

Interfaz

       En informática, se señala como interfaz a la conexión que se da de manera física

y a nivel de utilidad entre dispositivos o sistemas. La interfaz, por lo tanto, es una

conexión entre dos máquinas o sistemas de cualquier tipo, a las cuales les brinda un
                                                                                        79
soporte para la comunicación a diferentes estratos. Es posible entender la interfaz como

un espacio (el lugar donde se desarrolla la interacción y el intercambio), instrumento (a

modo de extensión del cuerpo humano, como el mouse que permite interactuar con

una computadora) o superficie (el objeto que aporta información a través de su textura,

forma o color). Se conoce como interfaz de usuario al medio que permite a una persona

comunicarse con una máquina. La interfaz, en este caso, está compuesta por los puntos

de contacto entre un usuario y el equipo. En la interacción con la computadora, por lo

tanto, puede distinguirse entre la interfaz de hardware (mouse, pantalla, teclado), la

interfaz de software (Windows, Linux) y la interfaz de hardware-software (el conjunto

que permite que el hombre entienda el código binario y que la máquina pueda leer la

instrucción humana). En la electrónica y las telecomunicaciones, la interfaz es un circuito

físico que envía o recibe señales de un sistema hacia otro. El Universal Serial Bus (USB)

es una interfaz que permite, a través de su puerto, conectar todo tipo de periféricos a una

computadora.

HMI

       Del inglés: “Human Machine Interface”, es el dispositivo o sistema que permite

el interfaz entre la persona y la máquina. Permite una conexión más sencilla y económica

con el proceso o máquinas.

HID

       Del inglés: Human Interface Device, o dispositivo de interfaz humana, hace

referencia a un tipo de interfaces de usuario para computadores que interactúan

directamente, tomando entradas proveniente de humanos, y pueden entregar una salida a

los humanos.




                                                                                        80
2.4    HIPÓTESIS DE LA INVESTIGACIÓN

2.4.1 Hipótesis general

         Un sistema de control y supervisión distribuido multiplataforma diseñado e

implementado en el entorno de programación DELPHI y el gestor de base de datos

FIREBIRD, ofrece muy buenas prestaciones en cuanto a: Flexibilidad, eficiencia,

robustez y seguridad.

2.4.2 Hipótesis específica

a)     El Diseño y la implementación de un prototipo de censado de nivel de un tanque

de agua y una tarjeta de adquisición de datos para diferentes arquitecturas cumple

satisfactoriamente con las características mínimas de muestreo y cuantización de señales,

adquisición de datos en tiempo real así como la ejecución de respuestas efectuadas por

los actuadores.

b)     El desarrollo de un modelo de base de datos, un programa servidor de aplicaciones

y programas cliente, empleando las técnicas y tecnologías adecuadas nos permiten el

almacenamiento, procesamiento, y gestión de datos en tiempo real y garantizan el control

y supervisión en un entorno distribuido multiplataforma.

c)     Con las pruebas realizadas y analizadas se verifica que las técnicas y tecnologías

que se usan para la implementación del sistema nos permiten adaptarnos a múltiples

plataformas, arquitecturas y necesidades verificándose así tener las prestaciones de

Flexibilidad, eficiencia, robustez y seguridad.




                                                                                      81
2.5       OPERACIONALIZACION DE VARIABLES

          El siguiente cuadro muestra las variables dependientes e independientes con sus

respectivas dimensiones e indicadores.

Tabla Nº 1.

Operacionalización de variables de acuerdo a los objetivos de estudio.

   VARIABLES                     DIMENSIONES               INDICADORES De V.I

                                 Adquisición de señales     Periodo de Muestreo en tiempo real
                                                            Cuantización en tiempo real
                                                            Fiabilidad de la señal adquirida

    Variable Independiente          Procesamiento de        Procesamiento de datos en tiempo real
                                     datos. Control y       Filtros digitales
       Sistema de control y           supervisión de        Tiempo de respuesta mediante la
                                                             acción de control o algoritmos de
      supervisión distribuido            procesos
                                                             control (PID)
         multiplataforma
                                        Redes de            Procesamiento de datos sobre diversas
                                     comunicación            plataformas
                                 cableado e inalámbrico     Control
                                                            Monitoreo
                                                            Herramientas de programación y de
                                      Flexibilidad
                                                             base de datos
                                                            Equipos utilizados estables
                                                            Protocolos de comunicación cableado
                                       Eficiencia            e inalámbrico
                                                            Base de datos distribuido
      Variable Dependiente                                  Control distribuido
                                                            Tiempo de respuesta del procesador
      Prestaciones del sistema
                                                            Tiempo de respuesta de la capa de red
                                        Robustez
                                                            Tiempo de respuesta de la planta
                                                            Tiempo de respuesta del sistema en su
                                                             conjunto
                                                            Tolerancia a fallas
                                       Seguridad
                                                            Ahorro de recursos computacionales
                                                            Ahorro de recursos energético


                 Las variables están de acuerdo a los objetivos del proyecto en su conjunto




          Como se muestra en la tabla 1. Las dimensiones de la variable independiente se

basan en el procedimiento general de análisis de los objetivos específicos. Y la variable

independiente se basa estrictamente a las prestaciones del sistema en su conjunto.




                                                                                                     82
     CAPITULO III


DISEÑO METODOLÓGICO DE
     INVESTIGACIÓN




                         83
3.1    TIPO Y DISEÑO DE INVESTIGACIÓN

3.1.1 TIPO DE INVESTIGACIÓN

       Para poder definir el tipo de investigación de este proyecto, nos basamos en la

clasificación descrita en el trabajo realizado por: Jorge Tam Malaga, Giovanna Vera y

Ricardo Oliveros Ramos, en su trabajo titulado: “Tipos, métodos y estrategias de

investigación científica”. En la que se considera como tipos de investigación: básica,

estratégica, aplicada, y adaptativa.

       Recurrimos a la comparación de la definición de cada una de ellas con lo realizado.

Entonces nos encontramos ubicados de entre el tipo de investigación estratégica y en tipo

de investigación aplicada.

       Investigación estratégica: Entiende los procesos relevantes para los sectores

productivos, de modo que su comportamiento pueda ser predicho bajo una variedad de

condiciones y subsecuentemente manipulados para crear o mejorar las tecnologías.

       Investigación aplicada: Crea nueva tecnología a partir de los conocimientos

adquiridos a través de la investigación estratégica para determinar si estos pueden ser

útilmente aplicados con o sin mayor refinamiento para los propósitos definidos

       Un breve análisis y cierto criterio, nos dice que la investigación aplicada exige

previamente y de algún modo la investigación estratégica, por lo tanto concluimos que el

tipo de investigación que realizamos es la investigación aplicada.

3.1.2 DISEÑO DE INVESTIGACIÓN

       Para llegar a nuestro objetivo de estudio o prueba de hipótesis, el proyecto de

investigación se desarrollara siguiendo el diseño o enfoque de investigación

cuantitativa.




                                                                                       84
3.1.3 METODOLOGÍA DE INVESTIGACIÓN

       Para contrastar las hipótesis previamente formuladas, inevitablemente se abarco

todos los niveles de investigación involucrados en el diseño de investigación cuantitativa

como son: exploratorio, descriptivo, explicativo y experimental. Pero en el proceso, la

metodología de investigación que más se ha adecuado en el proceso desde el punto de

vista teórico es el método experimental.

       Pero para llevar a cabo los experimentos y la prueba de las hipótesis primero se

tuvo que implementar el sistema. Esta fase de implementación lo clasificamos en cinco

etapas que obedece estrictamente al seguimiento que se realiza a la señal en el proceso

que sigue desde su censado, procesamiento, almacenamiento y gestión:

       a)      Planta o sistema físico

       b)      Sistema de datos muestreados

       c)      Procesamiento y base de datos

       d)      Sistemas de comunicación o red de datos

       e)      Aplicaciones de control y supervisión

       Ya con el sistema en funcionamiento, se realiza cuatro experimentos diseñados en

función a las prestaciones que debe de tener el sistema.

       1º      Prueba de flexibilidad

       2º      Prueba de eficiencia

       3º      Prueba de robustez

       4º      Prueba de seguridad

       Estos cuatro experimentos, involucran la prueba de la hipótesis general de forma

explícita y prueban las hipótesis específicas de forma implícita.
                                                                                       85
3.2    POBLACIÓN Y MUESTRA DE INVESTIGACIÓN

3.2.1 POBLACIÓN DE LA INVESTIGACIÓN

           La población de este proyecto es toda el área que involucra los sistemas de

control y supervisión distribuido.

           Por ello los elementos y objetos de nuestro estudio de investigación también

involucran múltiples disciplinas como son: microelectrónica, telecomunicaciones, redes

de computadoras, sistemas de información y redes móviles. Con lo cual se aporta a una

sólida base teórica y práctica de sistemas de control de bajo costo.

3.2.2 MUESTRA DE LA INVESTIGACIÓN

       La muestra, de acuerdo a nuestra población es entonces los sistemas de control y

supervisión distribuido de bajo costo, requeridas principalmente por las microempresas y

medianas empresas.

       De acuerdo a los elementos y objetos de estudio, la muestra viene a conformar las

señales a censar, su muestreo, adquisición, control y supervisión del nivel de un tanque

de agua.

3.2.3 UBICACIÓN Y DESCRIPCIÓN DE LA POBLACIÓN

       El sistema prototipo de control de nivel de un tanque de agua, la tarjeta de

adquisición de datos, la implementación de la red LAN y los programas servidores de

base de datos, el servidor de aplicaciones más la interfaz para el cliente. Que en su

conjunto conforman el sistema de control y supervisión distribuido multiplataforma se

diseñó e implemento en el laboratorio particular de quien es autor de este proyecto de

investigación. Sito en la avenida el puerto Nº 714 de la ciudad de Puno.




                                                                                     86
3.3       MATERIAL EXPERIMENTAL

          Los materiales utilizados para realizar el tratamiento de las señales analógicas y

digitales son los siguientes:

3.3.1 PROTOTIPO DE CONTROL DE NIVEL

          El prototipo de control de nivel es un tanque o reservorio de agua, el censado se

realiza mediante un potenciómetro alimentado con un voltaje referencial de 0V a 5V y el

actuador que viene a ser una bomba de agua de 12 voltios.

          El tanque de agua: Es de forma cilindrica, con capacidad maxima de 4.5 litros de

agua, y con un diametro superficial de 10 cm.

          El actuador: consta de una bonba de agua de corriente directa, y se alimenta desde

aproximadamente 5 V hasta los 24 V, con una corriente de entre los 3A hasta los 4.1A

          El sensor: consta de un protenciometro de 100KΩ, la caracteristica es que este

tipo de potenciometros se comportan aproximadamente de forma lineal, y esta alimentado

por una fuente de alimentacion de 5V para el respectivo sensado del nivel de agua en el

tanque.

          Tuberias: las tuberias son de un area superficial mucho menor comparado con el

area superficial del tanque. Esto facilita el modelado de la planta y la linealizacion del

sistema. Tienen un diametro de 0.5 cm.

3.3.2 dispositivo de adquisición de datos

          El dispositivo que permite la comvercion de la señal analogica a digital y la señal

digital a analogica fue diseñado e implementado a partir del microcontrolador 18F4550

de microchip. Utilizamos este microcontrolador por las prestaciones que tiene para

trabajar mediante la interfaz USB y por las caracteristivas de velocidad y almacenamiento

de bajo costo en el mercado.


                                                                                          87
3.3.3 COMPUTADORAS PERSONALES

       El servidor de aplicaciones, el servidor de base de datos y los clientes

prácticamente son computadoras personales, pues se requiere de una mediana y alta

capacidad de procesamiento y almacenamiento para trabajos con datos y procesos en

tiempo real y gestión de datos.

3.3.4 DISPOSITIVOS MÓVILES

        En caso de los clientes, pueden ser indistintamente computadoras personales,

dispositivos móviles celulares, o cualquier otro dispositivo que tenga acceso a la red

Ethernet del sistema y con un mínimo requerimiento en cuanto a velocidad y

procesamiento.

       Un dispositivo móvil puede definirse como todo aquel hardware que tenga

características similares a las computadoras de escritorio, con la diferencia principal, que

todo es reducido y normalmente integrado en una sola pieza. Estos cuentan con un sistema

operativo que es instalado de fábrica. Sobre estos sistemas operativos se pueden instalar

programas que pueden ser utilitarios o herramientas de desarrollo. Entre los principales

dispositivos móviles tenemos los celulares o Smartphone y los PDA (Personal Digital

Assistant)

       Existen varios sistemas operativos para los teléfonos inteligentes, cada uno de

ellos diseñado con diferencias importantes. Dentro de estos se puede mencionar: Android,

iPhone OS, Palm OS, BlackBerry OS, Windows Mobile y Symbian.

Android

       Es un sistema operativo para dispositivos móviles y computadoras basado en el

núcleo Linux. Inicialmente fue desarrollado por Android Inc., compañía que fue

comprada después por Google. En la actualidad lo desarrollan los miembros de la Open

Handset Alliance (liderada por Google).


                                                                                         88
       Esta plataforma permite el desarrollo de aplicaciones por terceros (personas ajenas

a Google). Los desarrolladores deben escribir código gestionado en lenguaje de

programación Java a través de SDK proporcionada por el mismo Google. Una alternativa

es el uso de la NDK (Native Development Kit) de Google para hacer el desarrollo en

lenguaje C como código fuente.

IPhone OS

       Es el sistema operativo que utiliza el iPod touch y el iPhone, diseñado por 175

ingenieros de Apple, Está basado en una variante del Mach kernel que se encuentra en

Mac OS X. El iPhone OS incluye el componente de software “Animation Core” de Mac

OS X v10.5 que, junto con el PowerVR MBX el hardware de 3D, es responsable de las

animaciones usadas en el interfaz de usuario. IPhone OS tiene 4 capas de abstracción: la

capa del núcleo del sistema operativo, la capa de Servicios Principales, la capa de Medios

de comunicación y la capa de Cocoa Touch.

Limitaciones de los dispositivos móviles

       Por ser de carácter compacto y portátil, los dispositivos móviles constan de varias

limitaciones, las cuales se presentan a continuación: De la interfaz (pequeñas, lentos

ciertas veces para la entrada de datos), De Tecnología (fuentes de energía limitadas y

menor velocidad de procesamiento), De conexión de red (tiempos de respuesta

prolongados y ancho de banda altamente variable), Costo acumulativo (adquirir

tecnologías y complementos necesarios para ciertos tipos de aplicaciones).

3.3.5 CAPA FÍSICA DE RED

       La capa física de red Ethernet está compuesto por componentes básicos que

integran una red LAN básica para la comunicación cableada e inalámbrica. Esta

implementado principalmente por cables de la categoría 5e que es el mínimo requerido

para un red Ethernet industrial y el routher de la marca TP-Link.


                                                                                       89
Tarjeta de red

       Para lograr el enlace entre las computadoras y los medios de transmisión (cables

de red o medios físicos para redes alámbricas e infrarrojos o radiofrecuencias para redes

inalámbricas), fue necesaria la intervención de una tarjeta de red o NIC (Network Card

Interface) con la cual se puedan enviar y recibir paquetes de datos desde y hacia otras

computadoras, empleando un protocolo para su comunicación y convirtiendo esos datos

a un formato que pueda ser transmitido por el medio.

       Cabe señalar que a cada tarjeta de red le es asignado un identificador único por su

fabricante, conocido como dirección MAC (Media Access Control), que consta de 48 bits

(6 bytes). Dicho identificador permite direccionar el tráfico de datos de la red del emisor

al receptor adecuados. El trabajo del adaptador de red es el de convertir las señales

eléctricas que viajan por el cable o las ondas de radio en una señal que pueda interpretar

el ordenador.

       Adaptador de red es el nombre genérico que reciben los dispositivos encargados

de realizar dicha conversión. Esto significa que estos adaptadores pueden ser tanto

Ethernet como Wireless, así como de otros tipos como fibra óptica, coaxial, etc. También

las velocidades disponibles varían según el tipo de adaptador; éstas pueden ser, en

Ethernet, de 10, 100 ó 1000 Mbps, y en los inalámbricos de 11 ó 55 Mbps.

Dirección IP

       Es un número que identifica de manera lógica y jerárquica a una interfaz de un

dispositivo (habitualmente una computadora) dentro de una red que utilice el protocolo

IP (Internet Protocol), que corresponde al nivel de red del protocolo TCP/IP. Dicho

número no se ha de confundir con la dirección MAC que es un número hexadecimal fijo

que es asignado a la tarjeta o dispositivo de red por el fabricante, mientras que la dirección

IP se puede cambiar.


                                                                                           90
       Los servidores de correo, DNS, FTP públicos, y servidores de páginas web

necesariamente deben contar con una dirección IP fija o estática, ya que de esta forma se

permite su localización en la red.

Servidor

       El término servidor ahora se refiere al ordenador físico en el cual funciona ese

software, una máquina cuyo propósito es proveer datos de modo que otras máquinas

puedan utilizar esos datos.

Switch o conmutador

       Un conmutador o switch es un dispositivo digital de lógica de interconexión de

redes de computadores que opera en la capa 2 (nivel de enlace de datos) del modelo OSI.

Su función es interconectar dos o más segmentos de red, de manera similar a los puentes,

pasando datos de un segmento a otro de acuerdo con la dirección MAC de destino de las

tramas en la red.

Arquitectura

       Peer-to-peer se caracteriza por brindar: escalabilidad, robustez, descentralización,

anonimato, seguridad y costes repartidos. En cuanto al cable, es recomendable usar a

partir de la categoría 5e que permiten soportar Gigabit Ethernet (1000BASE-T), o redes

funcionando a 1000 Mbps.

3.3.6 PROGRAMAS UTILIZADOS

       Para crear la interfaz de los clientes y el servidor de aplicaciones utilizamos como

principal herramienta de programación el programa DELPHI en sus dos versiones XE6 y

XE7. Delphi utiliza como lenguaje de programación una versión moderna de Pascal

llamada Object Pascal.




                                                                                        91
         Para la implementación del servidor de base de datos utilizamos el sistema

manejador de base de datos relacionales (RDBMS) FIREBIRD, también conocida como

sistema de administración de base de datos. El modo en el que configuramos o utilizamos

Firebird es como: Servicio, súper server y de modo automático.

         La otra herramienta de programación que utilizamos es el lenguaje de

programación de alto nivel “C” para programar el modo en que funciona nuestro

dispositivo de adquisición de datos. El leguaje “C” dispone de las estructuras típicas de

los lenguajes de alto nivel pero, a su vez, dispone de construcciones del lenguaje que

permiten un control a muy bajo nivel. Los compiladores suelen ofrecer extensiones al

lenguaje que posibilitan mezclar código en ensamblador con código C o acceder

directamente a memoria o dispositivos periféricos.

         Algunas herramientas adicionalmente utilizadas son: MikroC que nos permite

compilar el código escrito en lenguaje C y además crear la interfaz USB-HID para nuestro

dispositivo de adquisición de datos. PICKit2 utilizado para grabar el código compilado,

en el microcontrolador PIC18F4550. FLAMEROBIN, es el IDE para el gestor de datos

FIREDIRD. Proteus7, utilizado principalmente para simular el diseño de los circuitos

diseñados antes de ser armados en físico.

         Además complementamos nuestro entorno de programación con componentes del

PORYECTO JEDI y de MITOV que agregamos a Delphi como herramientas de licencia

libre.




                                                                                      92
3.4    TÉCNICAS E INSTRUMENTOS PARA RECOLECTAR
INFORMACIÓN

3.4.1 TÉCNICAS

       La técnica que fue utilizada para la recolección de información que parte

principalmente del muestreo de la señal analógica. Es el examen visual y observación

comparativa de la función de correlación de los datos discretos graficados punto a punto

mediante técnicas matemáticas de correlación y correlograma, teniendo en cuenta

aspectos de muestreo, frecuencia de muestreo y comparación de señales transmitidas y

recibidas.

3.4.2 MEDICIÓN

       Técnica que comprende la identificación y el establecimiento de diferentes

parámetros del sistema de control digital PID y su entorno. Además se utilizaron

herramientas de programación, algoritmos de control y sistemas de base de datos

3.4.3 REVISIÓN DE HOJAS DE DATOS

       Mediante el cual se conoce las especificaciones técnicas y de funcionamiento de

los dispositivos utilizados en nuestro sistema, para conocer los alcances y limitantes del

sistema de control digital PID.

3.4.4 INSTRUMENTOS

       Para la medición de las diferentes señales se ha utilizado diferentes instrumentos

de medición, tales como: osciloscopio, multímetro, Censores, Cronometro, voltímetro.




                                                                                       93
3.5    TÉCNICAS DE PROCESAMIENTO Y ANÁLISIS DE DATOS

3.5.1 PROCESAMIENTO DE DATOS

       Para la recolección de información y el análisis datos utilizamos la estadística y

sus herramientas para hacer inferencias sobre las variables del sistema y por lo tanto por

su comportamiento, algunas herramientas utilizadas en el análisis estadístico son:

Varianza, Correlación, Covarianza, Histograma, Regresión, Muestreo.

       En cuanto al análisis matemático: utiliza las herramientas matemáticas para hacer

los ajustes necesarios a los datos para su futuro despliegue, algunas de las herramientas

son: Adición, Sustracción, Multiplicación, División, Porcentajes, Transformada Z,

Transformada de Laplace, Series de Taylor, discretizacion por retraso y adelanto.

3.5.2 PRESENTACIÓN DE LOS DATOS EN UNA INTERFAZ GRÁFICA

       Esta parte consiste en la presentación de los datos al usuario final, es decir al

operario. Los datos deberán estar en unidades adecuadas, con imágenes que representen

adecuadamente cada etapa del proceso con sus respectivas variables; además la interfaz

entre humano y máquina, HMI (Human machine interface), debe ser capaz de desplegar

al operario, las alarmas que sucedan en el instante preciso de su acontecimiento ya que

de esa forma el usuario puede hacer los ajustes necesarios para que el proceso sigua o si

es necesario, detener el proceso.

3.5.3 CRITERIOS DE ELECCIÓN

       La respuesta de un sistema ante situaciones inesperadas determina su grado de

fiabilidad, es decir, el tiempo de operación del mismo y puede mejorarse mediante el uso

de técnicas de diseño adecuadas. Los parámetros que influyen en la decisión de desarrollo

o de compra son prácticamente las prestaciones que ofrece el sistema descritas en el

objetivo general. Pero algunos aspectos relevantes se describen a continuación:




                                                                                       94
Disponibilidad Estamos hablando de tener instalados y en reserva tanto partes de

hardware como de software.

Robustez Ante un fallo de diseño, un accidente o una intrusión, un sistema eficiente debe

poder mantener un nivel de operatividad suficiente como para mantener unos mínimos de

servicio. Si las cosas empiezan a ir mal, ¿cuánto aguantará el sistema antes de empezar a

fallar? Es lo que llamaríamos el plan de contingencia.

Seguridad Un fallo en el diseño, un usuario malintencionado o una situación imprevista

podrían alterar los parámetros de funcionamiento de un sistema. Hoy en día cualquier

sistema de control puede utilizar uno o varios métodos de comunicación para enlazar

todos los puntos de control de un proceso y, en el momento en que se utilizan sistemas de

comunicación que implican el acceso desde múltiples puntos, no siempre dentro de la

empresa, es posible que alguno de estos accesos sea no deseado.

Prestaciones El equipo debe poder asimilar toda la información incluso bajo condiciones

extremas de trabajo de manera que no se pierda ningún dato aunque no necesariamente

los almacene en tiempo real.

Mantenibilidad Los tiempos de mantenimiento pueden reducirse al mínimo si el sistema

está provisto de buenas herramientas de diagnóstico para realizar tareas de mantenimiento

preventivo, modificaciones y pruebas simultáneas al funcionamiento normal del sistema.

Escalabilidad Es importante que el sistema pueda ampliarse con nuevos componentes

tanto de software como de hardware según los requerimientos de la operación. (Rodriguez

Penin, 2012)

3.5.4 PROCEDIMIENTO DEL EXPERIMENTO

       Los experimentos se realizaron en función de los objetivos perseguidos en este

proyecto. Es decir, primero en función a las prestaciones que debe de tener un sistema de

control y supervisión industrial definidos anteriormente como son: Flexibilidad,

                                                                                      95
eficiencia, robustez y seguridad. Y segundo, en el proceso seguido para lograr que el

sistema tenga estas prestaciones declaradas como objetivos específicos. Para un mejor

entendimiento, se muestra el cuadro referencial a continuación:

      Adquisición de datos       Procesamiento control y supervisión              Prestaciones


1º                              Correlación cableada              CP                FLEXIBILIDAD
            Muestreo y
E
           cuantizacion                                          Móvil
                              Correlación inalámbrica


2º                                                               Tiempo
                                                                                         EFICIENCIA
E          Filtro LP      Almacenamiento       Control PID          de
                                                                respuesta


3º                                 Error de nivel              Cableado                  ROBUSTEZ
           Limitaciones
E
           de la planta
                                  Error de planta             Inalámbrico


4º                                                                                   SEGURIDAD
E                                   Criptografía

                Grafica Nº 1. Grafica referencial del procedimiento de experimentación


Experimento 1:            Prestaciones del sistema de Flexibilidad

       La flexibilidad obedece básicamente a la capacidad del sistema de expandirse a

nivel geográfico mediante alguna extensión de red o proceso a controlar sin perder el

rendimiento del sistema en conjunto. Para esto, aumentamos clientes tanto móviles como

computadoras personales y plantas a controlar, luego entonces comprobamos el

rendimiento del sistema en cuanto a velocidad.

Experimento 2:            Prestaciones del sistema de Eficiencia

       Para su eficiencia, calculamos las características de cada microprocesador

autónomo en cuanto a su velocidad de procesamiento y comparamos los resultados de

procesamiento tanto a nivel individual como a nivel general mediante algún proceso de

control.


                                                                                                      96
       La tarea fundamental del sistema en su conjunto es el monitoreo, control y la

automatización de una planta, este aspecto se analiza cuantitativa y cualitativamente en

cuanto al tiempo de respuesta del sistema en diferentes plataformas.

Experimento 3:         Prestaciones del sistema de Robustez

       La robustez es la característica del sistema de responder frente a cualquier

interferencia o ruido de la señal, el experimento para esta característica es entonces probar

el algoritmo adecuado o inteligente que responda frente a esta señal.

       Corremos el sistema prototipo durante periodos de tiempo extensos para probar la

estabilidad del sistema en su conjunto, añadiendo casos de error críticos y su respuesta de

funcionalidad. Las tecnologías que se aplicaron para desarrollar este sistema, se verán

sometidos a pruebas de muestreo y adquisición de datos en tiempo real en entornos

distribuidos críticos y en diferentes plataformas.

Experimento 4:         Prestaciones del sistema de Seguridad

       Una técnica utilizada en este aspecto, es la encriptación del sistema en diferentes

aspectos, tanto para los clientes, los administradores y la programación.

3.5.5 PLAN DE TRATAMIENTO DE DATOS

       De acuerdo al plan de experimentación, tenemos cuatro experimentos los cuales

dan como resultado gráficos para ser analizados comparativamente. La confiabilidad o

significado de los resultados del experimento serán mostrados estadísticamente para su

mayor valor de los resultados.

3.5.6 DISEÑO ESTADÍSTICO PARA PRUEBA DE HIPÓTESIS

       Los datos almacenados en la base de datos serán procesados estadísticamente. En

el primer experimento, se obtendrán datos estadísticamente y mediante la técnica de

regresión lineal obtenida a partir de la gráfica de la función de correlograma.


                                                                                          97
       En el segundo experimentos, se mide el tiempo de respuesta en cada caso de

control tanto inalámbrico como cableado, además en los casos de los clientes móviles y

clientes como computadoras personales de escritorio.

       El tercer experimento implica básicamente la prestación del sistema en cuanto a

los errores que puede tener la planta y como es sistema responde ante algún problema.

Por ello los datos que resultan son prácticamente de solución del problema frente a

cualquier circunstancia.

       Y el último experimento se basa en el encriptado, eso hace que la autorización de

los clientes para realizar alguna acción con la planta sea permitida siempre y cuando el

usuario tenga algún conocimiento básico en cuanto a la administración del sistema.

Además por parte del software, el empaquetamiento de datos juega un papel muy

importante.




                                                                                     98
        CAPITULO IV


ANÁLISIS E INTERPRETACIÓN DE
         RESULTADOS




                               99
4.1    ANÁLISIS

       Para desarrollar la descripción y el análisis del sistema en su conjunto,

convenimos en hacerlo siguiendo las cinco etapas identificadas previamente en el marco

teórico, que obedece básicamente al estricto seguimiento que se realiza a la señal. Pues

de esta forma se pretendió realizar un estudio mucho más cuidadoso, meticuloso y

analítico en cuanto a las propiedades físicas de la planta, el muestro real del dispositivo,

el procesamiento y almacenamiento de la señal digital, infraestructura de red de

comunicaciones y las aplicaciones que se desarrollaron.

       Para tener un mejor entendimiento de el proceso de análisis e implementación, la

figura Nº 21 nos muestra gráficamente a modo de visión panorámica, el sistema

implementado en su conjunto, identificando las respectivas partes involucradas.


                                SERVIDOR DB


                                                               CLIENTE
                                                                                       HMI
                 ACTUADOR                 CAD/CDA




                 SENSOR                                          ROUTER                  TABLET

                    ACONDICIONADOR

      TANQUE
        DE                       SERVIDOR DB
       AGUA
                                                                                   SMARTPHONE


                                                        APLICACION



                          Figura Nº 21 Esquema general del sistema desarrollado.
                                          Elaborado por el autor




       A continuación desarrollamos el análisis de acuerdo a las etapas de diseño e

implementación planteadas en el marco teórico.


                                                                                                  100
4.1.1 PLANTA O SISTEMA FÍSICO

       La planta a controlar, consiste de un reservorio de agua, conformado por los

siguientes componentes: Tanque de agua, actuador, sensor, y las respectivas tuberías para

la entrada y salida de agua como se muestra en la figura Nª 22

                                        ACTUADOR                             FLUJO DE ENTRADA



                                            SENSOR
                                                                        AREA DE LA
                                                                        SUPERFICIE

                                                                                                TANQUE DE
                                             ALTURA DEL                                            AGUA
                                             AGUA EN EL                                        CILINDRICO
                                               TANQUE




                                                                                           FLUJO DE SALIDA



                                    Figura Nª 22 Sistema físico para el control de nivel de agua en un reservorio.
                                                               Elaborado por el autor

       En este proyecto, un sensor de nivel está conectado a un microcontrolador

PIC18F4550, se envía el nivel medido y se muestra en un PC cada 5 milisegundos usando

una interfaz USB. Básicamente un potenciómetro se utiliza como sensor. Este sensor

genera una tensión analógica proporcional al nivel de agua en el tanque. La tensión de

salida del sensor es determinado por: Vo = Vi(K) + Po. Las mediciones del nivel de agua

en el tanque se muestran en centímetros. La figura muestra la variación de la tensión de

salida del sensor con respecto al nivel de agua que varía en el tiempo.

                                6
           Voltaje de entrada




                                5
                                4
                                3
                                2
                                1
                                0
                                    0          2         4         6          8           10        12      14       16
                                                                       Nivel del tanque


                     Grafica Nº 2 Variación del sensor de voltaje de salida con respecto al nivel de tanque


                                                                                                                          101
4.1.1.1 Modelado

       Para el modelado, consideramos todas las caracteristicas fisicas del la planta y

junto con algunos principios fisicos de la hidrodinamica, iniciamos desde lo fundamental,

el concepto de caudal. Se llama caudal 𝑄(𝑡) o gasto de corriene de agua al cociente del

volumen del liquido ∆𝑉 que pasa por una seccion transversal 𝐴1 (ver figura 23) y el

tiempo ∆𝑡 que emplea en pasar es decir:

                                                ∆𝑉
                                       𝑄(𝑡) =                (3.1)
                                                ∆𝑡


       De nuestro sistema a controlar (figura 22) la condición de equilibrio viene

declarada como: “La diferencia del gasto de entrada y el gasto de salida en una unidad

pequeña de tiempo es igual a la cantidad de líquido acumulado”, entonces con la relación

𝑄(𝑡) = 𝑄𝑖𝑛 (𝑡) − 𝑄𝑜𝑢 (𝑡) donde 𝑄(𝑡) representa el caudal en el tanque reemplazado en la

ecuación 3.1 en su forma ∆𝑉 = 𝑄(𝑡)∆𝑡 nos resulta:


                           ∆𝑉 = (𝑄𝑖𝑛 (𝑡) − 𝑄𝑜𝑢 (𝑡))∆𝑡                  (3.2)

                           ∆𝑉
                                = 𝑄𝑖𝑛 (𝑡) − 𝑄𝑜𝑢 (𝑡)                    (3.3)
                           ∆𝑡


       De la figura Nº 23 se observa que: ∆𝑥1 = 𝑣1 ∆𝑡 además se tiene que: ∆𝑉 = 𝐴1 ∆𝑥1
                                                             ∆𝑉
y reemplazando ∆𝑥1 en ∆𝑉 y esta última en la ecuación             se obtiene:
                                                             ∆𝑡

                           𝐴1 ∆𝑥1
                                     = 𝑄𝑖𝑛 (𝑡) − 𝑄𝑜𝑢 (𝑡)               (3.4)
                               ∆𝑡


       La ecuación 3.4 se puede expresar de forma conveniente en función a las

características del tanque en cuestión con: 𝐴1 = 𝐴 donde 𝐴 representa el área de la

superficie del tanque y ∆𝑥1 = ∆ℎ(𝑡) donde ∆ℎ(𝑡) representa la variación de la altura de
                                                                   𝐴∆ℎ(𝑡)
agua en el tanque, con lo que la ecuación 3.4 queda como                    = 𝑄𝑖𝑛 (𝑡) − 𝑄𝑜𝑢 (𝑡) o
                                                                     ∆𝑡

infinitesimalmente como:

                               𝜕ℎ(𝑡)
                           𝐴           = 𝑄𝑖𝑛 (𝑡) − 𝑄𝑜𝑢 (𝑡)             (3.5)
                                𝜕𝑡



                                                                                             102
       El caudal de salida 𝑄𝑜𝑢 (𝑡) tiene un comportamiento natural y no intervenimos en

su dinámica, por lo tanto para este caudal de salida podemos aplicar el principio de

Bernoulli.

                                            Figura Nº 23 Un fluido en flujo laminar a través de una tubería

                                            que se estrecha. El volumen de la porción sombreada a la

                                            izquierda es igual al volumen de la porción sombreada a la

                                            derecha. Fuente: Física I de Serway.




                                            Figura Nº 24 Salida de un líquido por un orificio en un tanque

                                            con rapidez v1. Fuente: Física I de Serway.




       De la figura Nº 23, el principio de bernoulli describe el comportamiento de los
                                                           1                              1
liquidos en movimiento segun la ecuacion: 𝑃1 + 2 𝜌𝑣1 2 + 𝜌𝑔𝑦1 = 𝑃2 + 2 𝜌𝑣2 2 + 𝜌𝑔𝑦2

aplicando esta ecuacion al tanque de la figura 3.4 se observa que se conoce la presión en

los puntos que es pracicamente la precion atmosferica es decir . 𝑃1 = 𝑃2 = 𝑃𝑎𝑡𝑚 . Pero en

cuanto a las velocidades en dichos puntos, consideramos que A2 >> A1, entonces el

líquido está cerca del reposo en lo alto del tanque, donde la presión es 𝑃𝑎𝑡𝑚 . En el orificio,

𝑣1 es igual a la presión atmosférica 𝑃𝑎𝑡𝑚 . Entonces la ecuación de Bernoulli entre los

puntos 1 y 2 es:

                          1                                 1
                   𝑃𝑎𝑡𝑚 + 2 𝜌𝑣1 2 + 𝜌𝑔 ∗ (0) = 𝑃𝑎𝑡𝑚 + 2 𝜌 ∗ (0)2 + 𝜌𝑔ℎ                    (3.6)


                   𝑣1 = √2𝑔ℎ                                                              (3.7)


       El resuldado (ecuacion 3.7) lo llevamos a la ecuacion 3.5 con 𝑣1 = 𝑣𝑜𝑢 donde 𝑣𝑜𝑢

representa la velocidad de salida en el orificio inferior del tanque y 𝑄𝑜𝑢 (𝑡) en su forma


                                                                                                      103
𝑄𝑜𝑢 (𝑡) = 𝐴𝑜𝑢 𝑣𝑜𝑢 donde 𝐴𝑜𝑢 representa el area de la seccion transversal del orificio del

tanque, con lo que nos queda:

                             𝜕ℎ(𝑡)
                         𝐴           = 𝑄𝑖𝑛 (𝑡) − 𝐴𝑜𝑢 𝑣𝑜𝑢             (3.8)
                               𝜕𝑡

                             𝜕ℎ(𝑡)
                         𝐴           = 𝑄𝑖𝑛 (𝑡) − 𝐴𝑜𝑢 √2𝑔ℎ(𝑡)         (3.9)
                               𝜕𝑡

                         𝝏𝒉(𝒕)         𝑨𝒐𝒖 √𝟐𝒈          𝟏
                                 =−              √𝒉(𝒕) + 𝑸𝒊𝒏 (𝒕)    (3.10)
                          𝝏𝒕             𝑨              𝑨


       La ecuacion 3.10 es el resultado final conocida tambien como la ecuacion de

estado para este sistema SISO, pues expresa el comportamiento no lineal del sistema

considerando incluso la resistencia del flujo turbulento, donde 𝑄𝑖𝑛 (𝑡) representa la señal

de entrada y ℎ(𝑡) representa la señal de salida del sistema. Pero para su análisis es

necesario la Linealización del modelo hallado y expresado en la ecuación 3.10

4.1.1.2 Linealización del modelo

       La linealización generalmente consiste en una expansión en series de Taylor de la

ecuación de estado no-lineal alrededor de un punto de operación definido naturalmente

por el sistema o seleccionado arbitrariamente (SETPOINT) para satisfacer alguna

necesidad de control.

       La serie de Taylor expresa de forma aproximada, la gran mayoría de las funciones

infinitamente derivables como una sumatoria de infinitas expresiones desarrolladas

alrededor de un punto.

       Empezamos por definir la ecuación en su forma de variables de estado definiendo

la señal de entrada 𝑢(𝑡), la señal de salida 𝑦(𝑡) y las ecuaciones 𝑓(. ) y 𝑔(. ) que los

representan:




                                                                                       104
 NOTACION GENERAL                 ECUACION DE ESTADO SISO                     ESPACIO DE ESTADO VECTORIAL

𝜕𝑥(𝑡)                            𝜕ℎ(𝑡)        𝐴𝑜𝑢 √2𝑔            1
        = 𝑓(𝑥(𝑡), 𝑢(𝑡))                  =−             √ℎ(𝑡) + 𝑄𝑖𝑛 (𝑡)           𝑥̇ (𝑡) = 𝐴𝑥(𝑡) + 𝐵𝑢(𝑡)
 𝜕𝑡                                𝜕𝑡             𝐴              𝐴



𝑦(𝑡) = 𝑔(𝑥(𝑡), 𝑢(𝑡))             𝑦(𝑡) = ℎ(𝑡)                                      𝑦(𝑡) = 𝐶𝑥(𝑡) + 𝐷𝑢(𝑡)


           Con lo anterior, observamos que la ecuación no lineal que representa nuestro

sistema SISO, al linealizarlo en torno a un punto, debe quedarnos una expresión en la

forma de espacio de estados vectorial. Entonces podemos expresar una igualdad de la

forma:

                                                      𝐴𝑜𝑢 √2𝑔             1
        𝑓(𝑥(𝑡), 𝑢(𝑡)) = 𝑓(ℎ(𝑡), 𝑄𝑖𝑛 (𝑡)) = −                    √ℎ(𝑡) + 𝑄𝑖𝑛 (𝑡)                 (3.11)
                                                         𝐴             𝐴


        𝑔(𝑥(𝑡), 𝑢(𝑡)) = 𝑔(ℎ(𝑡), 𝑄𝑖𝑛 (𝑡)) = ℎ(𝑡)                                                 (3.12)

           Como el objetivo es controlar la señal de salida ℎ(𝑡) alrededor de un setpoint, este

es la altura de referencia ℎ𝑟𝑒𝑓 donde queremos que se encuentre el nivel del tanque de la

figura 3.2 que no es más que una constante. Además, cuando la altura toma un valor

constante en el tiempo ℎ(𝑡0 ) = ℎ𝑟𝑒𝑓 notamos que el caudal de salida también toma un

valor constante 𝑄𝑜𝑢 (𝑡0 ) = 𝑄𝑜𝑢 con estas observaciones, podemos aproximar la ecuación

3.11 a una ecuación lineal e invariante en el tiempo en torno al punto 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 ).

                                                                                    𝜕ℎ(𝑡)
           Nota: Para calcular el valor de 𝑄𝑜𝑢 (𝑡) se debe recordar que                     evaluado en el
                                                                                      𝜕𝑡

punto 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 ) es 0 (cero). Esto quiere decir que cuando el tanque se encuentra a un

nivel ℎ𝑟𝑒𝑓 en ese instante el caudal que ingresa debería ser el mismo que el caudal que

sale 𝑄𝑖𝑛 (𝑡) = 𝑄𝑜𝑢 (𝑡) independientemente de la altura a la que se encuentra.

           Entonces, conociendo el punto de operación, calculamos los valores de A, B, C y

D de la ecuación de estado vectorial de la siguiente manera:

                                   𝜕𝑓(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))
                             𝐴=                         Evaluado en 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 )
                                          𝜕ℎ(𝑡)

                                   𝜕𝑓(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))
                             𝐵=          𝜕𝑄𝑖𝑛 (𝑡)
                                                        Evaluado en 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 )


                                                                                                         105
                                            𝜕𝑔(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))
                                      𝐶=                       Evaluado en 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 )
                                                 𝜕ℎ(𝑡)

                                            𝜕𝑔(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))
                                      𝐷=                       Evaluado en 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 )
                                                𝜕𝑄𝑖𝑛 (𝑡)

                                                                                                𝐴𝑜𝑢 √2𝑔
              Recordemos de las ecuaciones 3.11 y 3.12 que: 𝑓(ℎ(𝑡), 𝑄𝑖𝑛 (𝑡)) = −                     𝐴
                                                                                                          √ℎ(𝑡) +
1
𝐴
    𝑄𝑖𝑛 (𝑡)   y que además 𝑔(ℎ(𝑡), 𝑄𝑖𝑛 (𝑡)) = ℎ(𝑡) entonces calculando las derivadas parciales y

evaluando en el puno 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 ) obtenemos:

                   𝜕𝑓(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))         √2𝑔𝐴𝑜𝑢 √ℎ(𝑡)                   √2𝑔𝐴𝑜𝑢 √ℎ𝑟𝑒𝑓
              𝐴=                      =−                       ⇒ 𝐴=−
                        𝜕ℎ(𝑡)                 2𝐴     ℎ(𝑡)                    2𝐴   ℎ𝑟𝑒𝑓

                   𝜕𝑓(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))     1                              1
              𝐵=                      =𝐴                       ⇒ 𝐵=𝐴
                       𝜕𝑄𝑖𝑛 (𝑡)

                   𝜕𝑔(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))
              𝐶=                      =1                       ⇒ 𝐶=1
                        𝜕ℎ(𝑡)

                   𝜕𝑔(ℎ(𝑡),𝑄𝑖𝑛 (𝑡))
              𝐷=                      =0                       ⇒ 𝐷=0
                       𝜕𝑄𝑖𝑛 (𝑡)


              Con los valores obtenidos, podemos reemplazarlos en la ecuación vectorial de

espacio de estados y resolviendo se obtiene el siguiente resultado:

                           𝝏𝒉(𝒕)        √𝟐𝒈𝑨𝒐𝒖 √𝒉𝒓𝒆𝒇        𝟏
                            𝝏𝒕
                                   =−     𝟐𝑨   𝒉𝒓𝒆𝒇
                                                     𝒉(𝒕) + 𝑨 𝑸𝒊𝒏 (𝒕)                       (3.13)


                           𝒚(𝒕) = 𝒉(𝒕)                                                      (3.14)


              Las ecuaciones 3.13 y 3. 14 es el equivalente lineal del sistema no lineal del nivel

de un tanque de agua expresado mediante una ecuación en el espacio de estado vectorial

en torno al punto de operación 𝑃(ℎ𝑟𝑒𝑓 , 𝑄𝑜𝑢 ).

4.1.2 SISTEMA DE DATOS MUESTREADOS

              La segunda etapa de este proyecto, consiste básicamente en convertir la señal

analogía proveniente de nuestro sistema físico a una señal digital y viceversa.

4.1.2.1 Diseño del circuito

              USB es un sistema de conectividad de anfitrión centrada en donde el anfitrión

dicta el uso del bus USB. En un bus USB los datos se transmiten en paquetes. Un


                                                                                                             106
identificador de paquete (PID) byte sigue inmediatamente al campo de sincronización

de cada paquete USB.

       Todos los dispositivos USB tienen una jerarquía de descriptores que describen

diversas características del dispositivo: el ID de fabricante, la versión del dispositivo, la

versión de USB que da soporte, lo que el dispositivo es, sus requisitos de potencia, el

número y tipo de los puntos finales, y así sucesivamente. Los descriptores USB más

comunes son: Descriptores de dispositivo, descriptores de configuración, descriptores de

interfaz, descriptores HID y descriptores de punto final. Un dispositivo USB tiene un solo

descriptor de dispositivo que proporciona información general, como fabricante, número

de serie, número de producto, la clase del dispositivo, y el número de configuraciones.

       El microcontrolador PIC18F4550 proporciona una interfaz USB compatible a

toda velocidad (12Mbps) y baja velocidad (1.5Mbps) que permite la comunicación entre

un PC y el microcontrolador. En este proyecto, diseñamos un dispositivo para realizar la

digitalización de la señal utilizando el microprocesador PIC18f4550 basada en la interfaz

USB 2.0 del tipo HID, el diagrama del circuito se muestra en la figura Nº 25.




          Figura Nº 25 Diagrama del circuito para el dispositivo CAD – CDA. Diseñado por el autor.


       El microcontrolador es alimentado desde la línea de USB (es decir, no se requiere

ninguna fuente de alimentación externa). Esto hace que el diseño de los productos basados

en USB sea relativamente baratos y muy atractivos en aplicaciones donde el consumo

total de energía es inferior a 100 mA a 5,0V. El microcontrolador es operado desde un
                                                                                                     107
cristal de 20 MHz. Tenga en cuenta que un condensador de aproximadamente 200 nF es

conectado entre el pin VUSB (pin 18) del microcontrolador y tierra para la estabilidad.

       Un cristal 20MHz se utiliza para proporcionar impulsos de reloj al

microcontrolador. El reloj de la CPU microcontrolador y el módulo USB funcionan a

48MHz.

4.1.2.2 Programación del dispositivo

       Iniciamos la programación del microcontrolador configurando sus características

de funcionamiento a través del programa MikroC Pro For PIC 6.0.0 para que nuestro

dispositivo tenga interfaz USB y trabaje a 48Mhz.




             Figura Nº 26 Ventana de configuración para el microcontrolador PIC18F4550 de
                 acuerdo al cristal utilizado en el circuito y a la velocidad que trabajamos


       Para que nuestro dispositivo pueda ejecutarse en múltiples plataformas y trabajar

en diferentes arquitecturas de computadoras como de 32bits y 64bits indistintamente,

utilizamos una de las herramientas del lenguaje mikroC, este soporta un número de

funciones para las comunicaciones de tipo HID. El proyecto basado en la biblioteca USB

incluiye un archivo de origen descriptor que contiene ID de proveedor y el nombre,

identificación del producto y el nombre, la longitud informe e información relevante.

       Generamos el archivo descriptor del USB. Para crear un archivo de origen

descriptor HID utilizamos la herramienta terminal de mikroC para crear el descriptor
                                                                                               108
integrado HID. El nombre que le asignamos para el archivo de descriptor es

DriverSDM.c El archivo DriverSDM.c se incluye en el proyecto basado en USB.

       Los parámetros importantes que se ingresan aquí son el identificador de proveedor

(VID), identificador de producto (PID), tamaño del búfer de entrada, salida de tamaño de

búfer, nombre del proveedor (VN), y el nombre del producto (PN). El VID y PID están

en formato hexadecimal, estos valores introducidos aquí son los mismos en el programa

de Delphi. Los identificadores ID de proveedor son únicos en todo el mundo y son

emitidos por los implementadores de USB. Nuestro dispositivo posee un ID de proveedor

y se puede emitir un conjunto de identificadores de producto a bajo costo por lo que

pueden ser enviados por todo el mundo con VID único y combinaciones PID.




             Figura Nº 27 Ventana de configuración de la librería para crear el driver HID, lo
                      importante es el VID y el PID que se imprime al dispositivo.


       Para convertir la señal analógica en señal digital (CAD) y la señal digital a señal

analógica (CDA) simultáneamente, escribimos el código necesario en lenguaje C. este

código envía un comando del microcontrolador a la PC con el siguiente formato:

                                   𝑃 = 𝑛𝑇                                 (4.1)




                                                                                                 109
       Donde 𝑛 es el byte que solicita el microcontrolador para enviar a PORTB del

microcontrolador. Además utilizamos la librería HID creada como DriverSDM.c

importando al proyecto y habilitamos las librerías necesarias para el correcto

funcionamiento del código. Con esas consideraciones escribimos el código necesario para

el microcontrolador:
                       unsigned char Read_buffer[64] absolute 0x500;
                       unsigned char Write_buffer[64] absolute 0x540;
                       void interrupt()
                       {
                                 USB_Interrupt_Proc();
                       }

                       void main()
                       {
                                TRISB = 0;
                                PORTB = 0;
                                TRISA = 1;
                                Hid_Enable(&Read_buffer, &Write_buffer);
                                ADC_init();

                                for(;;)
                                {
                                          while (!HID_read()==0)
                                          {

                                                  PORTB = Read_buffer[2];
                                          }
                                          Write_buffer[2]= Adc_Read(0)*0.25;
                                          Hid_Write(&Write_buffer,64);
                                          Delay_ms(5);
                               }
                       Hid_Disable();
                       }

       Al comienzo del programa los pines PORTA se definen como entradas analógicas

en la limpieza de ADCON1 a 0 y el establecimiento de pines del puerto como entradas.

A continuación, los registros de interrupción se ajustan a sus valores predeterminados de

encendido. Temporizador de interrupción TMR0 se establece para generar una

interrupción cada 3.3ms para mantener vivo el bus USB. El puerto USB del

microcontrolador es entonces activada, y ADCON2 se inicializa mediante el

establecimiento de la frecuencia de reloj A / D para Fosc / 64.

       Un bucle sin fin se forma utilizando una sentencia for. Dentro de este bucle se

leen los datos del sensor y se convierte en una tensión física. La función USB mikroC

Hid_Write se llama entonces para enviar los datos de presión al bus USB como datos de

                                                                                     110
4 caracteres. El programa espera entonces durante un segundo, y el proceso anterior se

repite para siempre.

         El programa configura PORTB como salida digital. El temporizador se opera en

el modo de 8 bits con un pre-escalador de 256. Aunque la frecuencia de reloj de cristal es

20MHZ, la CPU es operado con un reloj de 48 MHz (período de reloj de la CPU de

0.083ms) es decir el temporizador interrumpe en intervalos de: (256 _ 100)* 256* 0.083

microsegundos o sobre 3.3ms. Por lo tanto, los mensajes de keep-alive se envían cada

3.3ms.

         El puerto USB está activado y luego llamando a la función Hid_Enable. Entonces,

el programa entra en un bucle indefinido y lee los datos desde el puerto USB con

Hid_Read. Cuando 4 bytes son recibidos en el formato correcto (es decir, el byte 0 = "P",

byte 1 = "=", y el byte 3 = "T"), entonces el byte de datos se lee desde byte 2 y se envía a

PORTB del microcontrolador. Es importante señalar que cuando se reciben datos

utilizando la función Hid_Read, la función devuelve el número de bytes recibidos.

Además, el primer byte recibido es el primer byte de datos real y no el ID de informe.

         En la lectura del código, observamos que la frecuencia a la que esta muestreado

la señal de entrada es de 5 milisegundos (Delay_ms(5)). Este detalle es importante ya que

la frecuencia promedio de fiabilidad de la señal es de 10 milisegundos. Dicho en otros

términos, estamos muestreando la señal analógica 5000 veces por cada segundo, haciendo

con esto que la señal digital tenga una frecuencia de 2(10)−4 y sea muy parecida a la

señal analógica.

         Por ultimo Compilamos el código escrito con el programa MikroC y grabamos o

escribimos el archivo .HEX generado durante la compilación en el microprocesador

18f4550 por intermedio del programa PicKit2.



                                                                                        111
4.1.3 PROCESAMIENTO Y BASE DE DATOS

       Con procesamiento y base de datos nos referimos al camino que sigue la señal

digital a partir de la digitalización discreta o la obtención de la señal en números en cada

intervalo de tiempo y a la forma como se realiza su almacenamiento en la base de datos.

       Para ello nos basamos en la programación multicapas de DATASNAP, creamos

primero la interfaz que nos permite convertir los valores de la señal en números discretos

o cliente, luego implementamos el servidor de aplicaciones que nos permite comunicar la

interfaz creada previamente con el servidor de base de datos y la última capa es el servidor

mismo de datos o gestor de base de datos FIREFIRD instalado en modo SUPERSERVER.

       La principal herramienta digital de comunicación que nos proporciona DELPHI

DataSnap se llama MIDAS, tecnología basada en comunicación a través de COM/DCOM

a tecnología abierta basada en TCP/IP. Una de las características más importantes es lo

rápido: rápido de desarrollar, rápido de publicar y lo rápido de poner en producción.

       DataSnap permite desarrollar aplicaciones multicapas dentro de los estándares de

infraestructura, aunque mantiene compatibilidad con el enfoque basado en COM/DCOM,

ahora tiene la habilidad de comunicarse nativamente TCP/IP, y como alternativa también

a través de HTTP y HTTPS, al mismo tiempo la reglas de negocios pueden ser expuestas

como REST (Representational State Transfer) que en esencia es despachar respuesta a

peticiones en forma de JSON.

       También nos proporciona conectores DataSnap para Dispositivos Móviles a través

de estos conectores es posible invocar Servidores basados en DataSnap desde iPhones,

iPads (iOS), Android (Java), Blackberry (Java) y Windows Phone (C# Silverlight).




                                                                                        112
4.1.3.1 Interfaz de digitalización dedicado o cliente

       El programa de muestreo directo creado con Delphi XE6 consta de un solo

formulario y básicamente tiene dos funciones principales además de las que podemos

agregar:

       a)         Leer los datos del dispositivo DAQ y mostrar en la pantalla la trayectoria

que sigue la señal en el tiempo.

       b)         enviar datos desde la interfaz de usuario hacia el microcontrolador en

formato de numeración decimal.

       Como se muestra en la Figura Nº 28. Los datos de control (SETPOINT) requeridos

por el PORTB se introducen en el cuadro de texto y a continuación, el botón ENVIAR

manda los datos al hacer clic con el ratón. Por ejemplo, al introducir el número decimal

15 la planta se ubica en 15cm del nivel del tanque.




            Figura Nº 28 Formulario creado en Delphi XE6 para el muestreo y envió de señal SetPoint


       El programa envía el número introducido al microcontrolador como un paquete

que consta de cuatro caracteres (4 bytes) con siguiente formato 𝑃 = 𝑛𝑇. Donde el carácter

P indica el inicio de los datos, n es el byte para ser enviado a PORTB, y T es el carácter

terminador. Por ejemplo, si los bits 3 y 4 del PORTB que se establezcan, es decir, PORTB

"00011000", entonces el programa envía paquetes 24T p = (número 24 se envía como un
                                                                                                      113
solo byte binario y no como dos bytes ASCII) al microcontrolador a través del enlace

USB. Para leer los datos introducidos por el usuario y luego enviar estos datos al

microcontrolador a través del bus USB cuando se hace clic en el botón ENVIAR,

realizamos el siguiente procedimiento:

        En código pascal de Delphi, leemos la señal del dispositivo USB-HID

identificando el dispositivo a través de su número VID-PID con el componente

controlador TJvHidDeviceController.

1º      Los parámetros importantes son los de salida y el tamaños de memoria intermedia

de entrada, que especifican el número de bytes que se envían y reciben, respectivamente,

entre el PC y el microcontrolador durante las transacciones de datos USB. Se eligen 64

bytes para ambos campos (nuestra salida está en el formato P = nT, que es 4 bytes).
               BufInt: Array[0..64] of Byte;
               BufOut: Array[0..64] of Byte;

2º      declaramos los valores de los identificadores VID y PID respectivamente que son

los mismos valores creados en el descriptor DriverSDM.c
               const    VID = $4733;
                        PID = $5612;

3º      escribimos una subrutina para leer los datos introducidos por el usuario y luego

enviar estos datos al microcontrolador a través del bus USB cuando se hace clic en el

botón
               BufOut[0] := $0;
               BufOut[1] := Byte('P');
               BufOut[2] := Byte('=');
               BufOut[3] := StrToInt(Edit1.Text);
               BufOut[4] := Byte('T');
               ToWrite := MyDev.Caps.OutputReportByteLength;
               MyDev.WriteFile( BufInt, ToWrite, Written );

        BuffOut almacena los datos que deben enviarse al microcontrolador a través del

bus USB. Observe que el primer byte del buffer es el ID de informe y debe establecerse

en 0. Los datos reales se inicia desde la dirección BufOut[1] de la matriz y los datos

enviados es en el formato P = nT como se describe antes.

                                                                                      114
       El buffer de entrada (informe) en la envió por un dispositivo USB cuando así se

lo solicite por el anfitrión. El buffer ouput (informe) es enviado por el host al dispositivo

USB. La Subrutina OnRead recibe los datos que llegan al puerto USB de la PC y luego

lo muestra en la forma de la pantalla. El programa no envía ningún dato al bus USB.

       Cabe resaltar que el componente más importante en el lado del cliente es el

componente ClientDataSet. Combina la facilidad de acceso a datos a través de la clase

TDataSet y la potencia de controlar automáticamente las transacciones al motor de bases

de datos, las SQL de consulta, actualización y eliminación así como la conexión y

desconexión de las tablas con el servidor haciendo que el programador no tenga que

preocuparse de las particularidades del motor de bases de datos. El componente de la

clase TClientDataSet no conecta directamente sobre una base de datos en concreto, si no

que utiliza el componente DataSetProvider que actua de intermediario haciendo de puente

entre los componentes de bases de datos (IBX,IBO,etc) y nuestra tabla ClientDataSet.

       El componente ClientDataSet es algo así como una tabla de memoria (como la

que tienen los componentes RX) que se trae y lleva datos a las tablas de la base de datos

encargándose automáticamente de las transacciones. esta característica nos permite

realizar algunas tareas sin estar conectado directamente al sistema de control.

4.1.3.2 Servidores de aplicación

       Lo más importante en el lado del servidor son los servicios que implementamos y

que nos brinda el sistema, entre ellos tenemos la conexión con la base de datos. Además,

esta capa de software nos facilita el intercambio de datos de toda la red entre los diversos

clientes conectados de tal forma que no satura la red.

       Para el Servidor utilizamos los componentes mínimos necesarios para hacer un

Servidor DataSnap:



                                                                                         115
TDSServer: Administra la creación y el tiempo de vida del Transportador y la Clase del

Servidor.

TDSServerClass: Componente utilizado para especificar la clase del lado del servidor que

tiene métodos publicados que pueden ser invocados remotamente desde el cliente.

TDSTCPServerTransport: Componente basado en Socket para el transporte de la

comunicación del DSServer.

Interfaz de usuario del servidor de aplicaciones.

       las aplicaciones para los clientes tanto de escritorio como moviles requieren

necesariamente de el servidor de aplicaciones o conocida tambien como capa de

aplicaciones. Esta aplicaicion permite conectarce directamente a la base de datos y

ademas ofrecer algunos servicion adicionales como de sincronizacion global. de todo el

sistema.




            Figura 29. Visualización de la interfaz del servidor de aplicaciones en sus dos estados.


4.1.3.3 Creación de la base de datos

       Para poder llevar un control detallado y preciso de un proceso es necesario

observar su evolución en el tiempo. Para tal fin la aplicación cuenta con la habilidad de

guardar datos cronológicamente ordenados al sólo fin de recrear una situación pasada en

un tiempo futuro.

       El almacenamiento se realiza en una base de datos relacional FIREBIRD en su

versión SUPERSERVER. Sin embargo, se provee una interfaz para poder realizar

consultas a los datos ya almacenados empleando sentencias del estándar SQL desde

                                                                                                       116
alguna aplicación externa al sistema. Previamente instalado el gestor de datos, se creó una

base de datos llamada SisMultiDB, que contiene los datos del sistema en tres tablas: una

tabla de administradores, una tabla de usuarios y una tabla por cada proceso a controlar.




                 Figura Nº 30 Modelo relacional de las tablas contenidas en base de datos


       Se configuran los datos de conexión en el sistema, con nombre “SisMultiDB”, que

será el que almacene los datos de la conexión y se crea el archivo SisMultiDB.FDB que

corresponde al nombre de la base de datos para el almacenamiento de las variables.

       Las tablas están relacionadas de acuerdo al nivel de accesibilidad que tiene y

debería de cumplir el sistema distribuido y teniendo cuidado principalmente en la

seguridad del sistema en su conjunto.




                       Figura Nº 31 Base de datos vista desde el IDE FIREBIRD


                                                                                            117
4.1.3.4 Servicios REST

       REST (Representational State Transfer) es un estilo de arquitectura para

desarrollar servicios. Los servicios web que siguen este estilo tienen como eje principal

las siguientes premisas.

Sin estado: Son servicios web que no mantienen estado asociado al cliente .Cada petición

que se realiza a ellos es completamente independiente de la siguiente. Todas las llamadas

al mismo servicio serán idénticas.

       Arquitectura en Capas: Todos los servicios REST estan orientados hacia la

escalabilidad y un cliente REST no será capaz de distinguir entre si esta realizando una

petición directamente al servidor , o se lo esta devolviendo un sistema de caches

intermedio o por ejemplo existe un balanceador que se encarga de redirigirlo a otro

servidor.




                               Figura Nº 32 arquitectura en capas


4.1.4 SISTEMAS DE COMUNICACIÓN O RED DE DATOS

       La red implementada es muy aproximado al tipo Peer to Peer, esta arquitectura

brinda un mejor acceso al sistema, a la planta, a la base de datos, aumentando incluso la

disponibilidad y la velocidad de proceso del sistema en su conjunto.

       Implementamos la arquitectura basados en el estándar IEEE 802.3 para Ethernet

y 802.11 para Wireless LAN. Los materiales o quipos utilizados son: Un router de la

                                                                                     118
marca TP-Link, cable cat5e, tres computadoras de diferentes plataformas (32bits, 64bits),

y un dispositivo móvil Sony Xperia Z3.

       Configuramos la red LAN que nos permite conectar las computadoras personales

y dispositivos móviles de forma cableada y e inalámbricamente con el nombre de RED:

REDSISMULT y las respectivas IPs empezando de 192.168.0.1 del router y a partir de

192.168.0.2 para los clientes. Para garantizar la comunicación realizamos pruebas de

conexión de los múltiples dispositivos conectados a la red.


Consideraciones necesarias

       Existen factores de compatibilidad que deben ser tenidos en cuenta en el momento

de agregar nuevos equipos a una red, o reemplazar alguno ya existente. La selección del

estándar adecuado permite delinear el camino a seguir en el momento de la adquisición,

reemplazo o expansión de componentes de la red, que obedece básicamente a que equipos

adquirir en cuanto a sus requerimiento mínimos de los dispositivos móviles y seleccionar

el estándar de tecnología inalámbrica correcto, basado en el análisis de las necesidades y

las opciones de mercado.

Características sobresalientes de IEEE 802.11 a.

       Éste estándar de nueva tecnología no goza de tanta popularidad como IEEE

802.11 b. Existen pocos dispositivos que incorporan a éste estándar como opción de

fábrica, como así tampoco existen periféricos de uso masivo que permitan su

implementación. Principalmente por tal motivo los productos para implementar éste

estándar son relativamente más caros comparados con los periféricos necesarios para

implementar una red con IEEE 802.11 b. Ofrece una velocidad de transferencia de datos

cinco veces mayor que IEEE 802.11 b, llegando a los 54 Mbps. Pero tiene un rango de

alcance más limitado que IEEE 802.11 b. Típicamente responde al rango entre los 7.5 y

22 metros (25 a 75 ft) en ambientes interiores. Trabajando en la frecuencia de los 5 GHz
                                                                                      119
goza de los privilegios de una banda que, por el momento, no es empleada masivamente

por dispositivos domésticos y de oficina, con lo cual puede coexistir con redes y

dispositivos que trabajen en la banda de los 2.4 GHz sin interferencias.

       En realidad la compatibilidad se logra disminuyendo la velocidad de transferencia

a 11 Mbps para que coincida con la de IEEE 802.11 b. Normalmente operando a 54 Mbps,

lo que algunos fabricantes llaman «Modo Turbo», las tarjetas adaptadoras tiene opción

manual o automática para cambiar de velocidad. Sin embargo, desde el punto de vista de

un ruteador o punto de acceso que administre una red inalámbrica con IEEE 802.11 g

compatible con IEEE 802.11 b, puede suceder que la conexión de un equipo IEEE 802.11

b a 11 Mbps haga que toda la red pase de funcionar de los 54 Mbps de IEEE 802.11g a

los 11 Mbps que requiere el estándar anterior, llevando en consecuencia al bajo

rendimiento y desempeño de toda la red. Por tal motivo es recomendable, siempre que

sea posible, la re-configuración del ruteador o punto de acceso para que sólo acepte

conexiones de equipos con IEEE 802.11 g.

4.1.5 APLICACIONES DE CONTROL Y SUPERVISIÓN

         Una de las características de nuestro sistema es ofrecer al usuario, una manera

de gestionar, monitorear, supervisar, controlar y tener acceso a la información de algún

proceso; de una manera ágil, intuitiva y amigable, desde algún dispositivo conectado a la

red de manera cableada e inalámbrica. Esta tarea se lleva a cabo gracias al software de

aplicación específicos desarrollados para este fin.

       Para diseñar las aplicaciones de control y supervisión, necesitamos previamente

los modelos discretos de nuestro sistema dinámico a controlar y de los algoritmos de

control que pretendemos aplicar. En nuestro caso, requerimos el modelo discreto de la

ecuación lineal 3.15 y 3.16 además del modelo discreto del algoritmo de control PID y el




                                                                                     120
modelo discreto del FILTRO PASA BAJO, todo ello con el objetivo de crear funciones

que procesen la señal con estos algoritmos.

a)     Discretización del sistema dinámico

       Discretizamos el modelo dinámico con los métodos matemáticos pertinentes. Para

discretizar la ecuación en espacio de estados vectorial del sistema expresada por las

ecuaciones 3.13 y 3.14, Partimos de la definición de la derivada de una función, adecuada

a la señal ℎ(𝑡) de nuestro sistema:

                         𝜕ℎ(𝑡)           ℎ(𝑡+∆𝑡)−𝑓(𝑡)
                                 = lim                                       (3.15)
                          𝜕𝑡      ∆𝑡→0          ∆𝑡

                         𝜕ℎ(𝑡)           ℎ(𝑡)−𝑓(𝑡−∆𝑡)
                                 = lim                                       (3.16)
                          𝜕𝑡      ∆𝑡→0          ∆𝑡


       Por continuidad, en cualquier punto en el cual ℎ(𝑡) es diferenciable, las

definiciones 3.15 y 3.16 producen exactamente el mismo resultado, por lo tanto podemos

usar indistintamente estas definiciones de acuerdo a nuestros requerimientos. Una

derivada en tiempo continuo puede aproximarse por medio de una diferencia finita en el

tiempo discreto o simplemente una resta de dos valores puntuales a partir de:
ℎ((𝑛+1)∆𝑡)−ℎ(𝑛∆𝑡)
                    esta ecuación es conocida como una diferencia hacia delante, entonces:
       ∆𝑡

               𝜕ℎ(𝑡)                  ℎ(𝑡+∆𝑡)−𝑓(𝑡)       ℎ((𝑛+1)∆𝑡)−ℎ(𝑛∆𝑡)
                          = lim                      ≅                          (3.17)
                    𝜕𝑡         ∆𝑡→0        ∆𝑡                   ∆𝑡


       La ecuación 3.17 nos indica que en cada punto de continuidad de ℎ(𝑡) es la misma

que en ℎ(𝑛∆𝑡), debemos tener en cuenta que en el límite cuando ∆𝑡 tiende a cero, las

definiciones 3.15 y 3.16 son iguales, pero en tiempo discreto ∆𝑡 es fijo y no es cero y la

aproximacion de la ecuación 3.17 a una derivada en tiempo continuo son en general

diferentes.

       Por simplicidad, convenimos la igualdad                          ℎ[𝑛] = ℎ(𝑛∆𝑡) = ℎ(𝑛𝑇𝑠 ), los

paréntesis cuadrados distinguen a una función de tiempo discreto de una función de

tiempo continuo. En la notación ℎ[𝑛], el tiempo no se indica de manera explícita, puesto
                                                                                                121
que el tiempo entre valores en tiempo discreto consecutivos de la función ℎ siempre es

∆𝑡 que es lo mismo que el tiempo fijo y constante entre muestras denotado por 𝑇𝑠 , por

ello es que no se necesita indicar el tiempo en forma explícita. Entonces.

                       ℎ((𝑛+1)∆𝑡)−ℎ(𝑛∆𝑡)           ℎ[𝑛+1]−ℎ[𝑛]
                                              =                                       (3.18)
                                   ∆𝑡                    𝑇𝑠

                       𝜕ℎ(𝑡)       ℎ[𝑛+1]−ℎ[𝑛]
                               ≅                                                      (3.19)
                        𝜕𝑡               𝑇𝑠


       Reemplazando el resultado de la ecuación 3.19 y la igualdad ℎ[𝑛] = ℎ(𝑛∆𝑡) en la

ecuación 3.13, obtenemos:

           ℎ[𝑛+1]−ℎ[𝑛]              √2𝑔𝐴𝑜𝑢 √ℎ𝑟𝑒𝑓                  1
                             =−                      ℎ[𝑛] + 𝐴 𝑄𝑖𝑛 [𝑛]                               (3.20)
                  𝑇𝑠                    2𝐴    ℎ𝑟𝑒𝑓

                                          𝑻𝒔 √𝟐𝒈𝑨𝒐𝒖 √𝒉𝒓𝒆𝒇                𝑻𝒔
           𝒉[𝒏 + 𝟏] = 𝒉[𝒏] −                                    𝒉[𝒏] +        𝑸𝒊𝒏 [𝒏]               (3.21)
                                              𝟐𝑨        𝒉𝒓𝒆𝒇             𝑨


       El resultado expresado en la ecuación 3.21, es la representación dinámica lineal

en tiempo discreto del sistema. Para que esta pueda ser llevada a código pascal en Delphi,

en necesario expresar el caudal de entrada al tanque 𝑄𝑖𝑛 [𝑛] en términos del voltaje de

entrada 𝑣𝑖𝑛 en la bomba de agua o en términos de la señal de control de la bomba de agua

y la ganancia de la bomba 𝐾𝑝 .


                                   𝑄𝑖𝑛 [𝑛] = 𝐾𝑝 𝑣𝑖𝑛 [𝑛]                               (3.22)

       Finalmente, reemplazamos la ecuación 3.22 en la ecuación 3.21 para tener una

ecuación fácil de implementar en código de cualquier lenguaje, entonces tenemos como

ecuación final:

                                              𝑻𝒔 √𝟐𝒈𝑨𝒐𝒖 √𝒉𝒓𝒆𝒇                  𝑻𝒔
                  𝒉[𝒏 + 𝟏] = 𝒉[𝒏] −                                   𝒉[𝒏] +        𝑲𝒑 𝒗𝒊𝒏 [𝒏]   (3.23)
                                                   𝟐𝑨          𝒉𝒓𝒆𝒇            𝑨


b)     Discretización del filtro pasa bajos

       Implementamos la función del filtro pasa bajo digital para eliminar el ruido de la

señal de nivel adquirida con el dispositivo DAQ. Para ello, diseñamos un filtro ideal a


                                                                                                             122
partir del modelo de un filtro pasa bajo analógico expresado en la siguiente función de

transferencia:

                                    𝑦(𝑠)              1
                       ℎ(𝑠) = 𝑢(𝑠) = 𝑇                                                     (3.24)
                                                     𝑓 𝑠+1



        Donde 𝑇𝑓 es la constante de tiempo del filtro, 𝑢(𝑠) es la entrada del filtro y 𝑦(𝑠)

es la salida del filtro. Despejando y llevándolo al tiempo continuo se tiene:


                       (𝑇𝑓 𝑠 + 1)𝑦(𝑠) = 𝑢(𝑠)                                               (3.25)


                       𝑇𝑓 𝑠𝑦(𝑠) + 𝑦(𝑠) = 𝑢(𝑠)                                              (3.26)

                            𝜕𝑦(𝑡)
                       𝑇𝑓           + 𝑦(𝑡) = 𝑢(𝑡)                                          (3.27)
                              𝜕𝑡


        A partir de la definición de limite y por medio de una diferencia finita en el tiempo
                          𝑦(𝑛∆𝑡)−𝑦((𝑛−1)∆𝑡)
discreto o a partir de:                                   ecuación conocida como una diferencia hacia atrás,
                                      ∆𝑡

y considerando la igualdad 𝑦[𝑛] = 𝑦(𝑛∆𝑡) se tiene entonces:

                 𝜕𝑦(𝑡)               𝑦(𝑡)−𝑦(𝑡−∆𝑡)                 𝑦(𝑛∆𝑡)−𝑦((𝑛−1)∆𝑡)
                          = lim                              ≅                                (3.28)
                  𝜕𝑡          ∆𝑡→0              ∆𝑡                       ∆𝑡

                 𝜕𝑦(𝑡)        𝑦[𝑛]−𝑦[𝑛−1]
                          ≅                                                                   (3.29)
                  𝜕𝑡                 𝑇𝑠


        Donde 𝑇𝑠 es el tiempo de muestreo. Reemplazando la ecuación 3.29 en 3.27.g

                                   𝜕𝑦(𝑡)
                              𝑇𝑓           + 𝑦(𝑡) = 𝑢(𝑡)                                      (3.30)
                                    𝜕𝑡

                                   𝑦[𝑛]−𝑦[𝑛−1]
                              𝑇𝑓                        + 𝑦[𝑛] = 𝑢[𝑛]                         (3.31)
                                           𝑇𝑠

                                                𝑻𝒇                        𝑻𝒔
                              𝒚[𝒏] = 𝑻                  𝒚[𝒏 − 𝟏] + 𝑻             𝒖[𝒏]         (3.32)
                                                𝒇 +𝑻𝒔                    𝒇 +𝑻𝒔



        Es una regla muy importante, considerar 𝑇𝑠 ≪ 𝑇𝑓 . En la práctica esta regla se

aplica generalmente de la siguiente manera:

                                                             𝑇𝑓
                                                  𝑇𝑠 ≤                            (3.33)
                                                             5




                                                                                                        123
               La ecuación 3.32 es la ecuación discreta para el filtro digital pasa bajo, con esta

ecuación creamos la función en código pascal de Delphi para el filtro digital. Esta función

la usamos para procesar la señal que viene del dispositivo de adquisición de datos. Esta

nueva señal filtrada y útil, la almacenamos en el servidor de base de datos por medio de

la interfaz de Delphi y el gestor de base de datos FIREBIRD en una tabla creada

especialmente para estos datos denominada DATO.

c)             Discretización del algoritmo de control PID

               En código pascal implementamos la función del algoritmo de control PID para

sustituir el control manual con un controlador que haga el trabajo por nosotros de forma

automática, digital y hasta inteligente. Para esto necesitamos el modelo en tiempo discreto

de este algoritmo, partimos entonces del modelo del controlador PID estándar en el

tiempo descrito como:

                               𝐾𝑝 𝑡                            𝜕𝑒(𝑡)
𝑢(𝑡) = 𝐾𝑝 𝑒(𝑡) +                 ∫ 𝑒𝜕𝑡            + 𝐾𝑝 𝑇𝑑                                                                  (3.34)
                               𝑇𝑖 0                             𝜕𝑡
                                          𝑡
𝜕𝑢(𝑡)              𝜕𝑒(𝑡)       𝐾𝑝 𝜕(∫0 𝑒𝜕𝑡)                      𝜕 𝜕𝑒(𝑡)
          = 𝐾𝑝             +                       + 𝐾𝑝 𝑇𝑑 𝜕𝑡                                                              (3.35)
     𝜕𝑡             𝜕𝑡         𝑇𝑖        𝜕𝑡                              𝜕𝑡

𝜕𝑢(𝑡)              𝜕𝑒(𝑡)       𝐾𝑝                            𝜕𝑒(𝑡)2
          = 𝐾𝑝             +        𝑒(𝑡) + 𝐾𝑝 𝑇𝑑                                                                           (3.36)
     𝜕𝑡             𝜕𝑡         𝑇𝑖                              𝜕𝑡

𝑢[𝑛]−𝑢[𝑛−1]                𝑒[𝑛]−𝑒[𝑛−1]                  𝐾𝑝                        𝑒[𝑛]−2𝑒[𝑛−1]+𝑒[𝑛−2]
                   = 𝐾𝑝                           +          𝑒[𝑛] + 𝐾𝑝 𝑇𝑑                                                  (3.37)
          𝑇𝑠                        𝑇𝑠                  𝑇𝑖                                    (𝑇𝑠 )2

                                                                𝐾𝑝 𝑇𝑠             𝐾𝑝 𝑇𝑑
𝑢[𝑛] − 𝑢[𝑛 − 1] = 𝐾𝑝 (𝑒[𝑛] − 𝑒[𝑛 − 1]) +
                                                                    𝑇𝑖
                                                                         𝑒[𝑛] +
                                                                                      𝑇𝑠
                                                                                           (𝑒[𝑛] − 2𝑒[𝑛 − 1] + 𝑒[𝑛 − 2])   (3.38)

                                     𝐾𝑝 𝑇𝑠        𝐾𝑝 𝑇𝑑                        2𝐾𝑝 𝑇𝑑                  𝐾𝑝 𝑇𝑑
𝑢[𝑛] = 𝑢[𝑛 − 1] + (𝐾𝑝 +
                                         𝑇𝑖
                                              +
                                                   𝑇𝑠
                                                          )𝑒[𝑛] − (𝐾𝑝 +
                                                                                 𝑇𝑠
                                                                                        )𝑒[𝑛 − 1] + (
                                                                                                        𝑇𝑠
                                                                                                               )𝑒[𝑛 − 2]   (3.39)


𝒖[𝒏] = 𝒖[𝒏 − 𝟏] + 𝑲𝟏 𝒆[𝒏] + 𝑲𝟐 𝒆[𝒏 − 𝟏] + 𝑲𝟑 𝒆[𝒏 − 𝟐]                                                                      (3.37)


Donde:

                                                                              𝐾𝑝 𝑇𝑠 𝐾𝑝 𝑇𝑑
                                                        𝐾1 = 𝐾𝑝 +                  +
                                                                               𝑇𝑖    𝑇𝑠
                                                                                  2𝐾𝑝 𝑇𝑑
                                                             𝐾2 = −𝐾𝑝 −
                                                                                    𝑇𝑠

                                                                                                                              124
                                                     𝐾𝑝 𝑇𝑑
                                             𝐾3 =
                                                      𝑇𝑠

4.1.5.1 IMPLEMENTACIÓN DE LA INTERFAZ DE USUARIO

         Con el programa Delphi en su versión XE6 creamos la interfaz de usuario para

PCs y para poder compilar el programa en un dispositivo con plataforma Android o IOS

utilizamos el programa Delphi XE7. El uso de una u otra versión podría ser indistinta para

diferentes plataformas pero la versión XE6 lo usamos preferentemente para la adquisición

de datos vía USB con un componente adicional que nos proporciona el PROYECTO JEDI

que no está disponible para la versión XE7.

         Para llevar a cabo la acción de control, escribimos la ecuación de la dinámica

discreta de la planta en código pascal de Delphi y la procesamos la señal almacenada con

las funciones de control PID discreto obtenidos a partir del modelo. Esto nos permite

tener el monitoreo y control distribuido en los diferentes equipos que realizan esta tarea

de forma independiente.

       Entonces, con los modelos discretos obtenidos, empezamos a implementar las

funciones en lenguaje de programación pascal de Delphi, el código es el siguiente:

               Procedure TForm1.Timer1Timer(Sender: TObject);

                       var SP:real;
                         NV:real;
                         e,u,z:real;
                       begin
                         SP := trackbar1.Position;
                         NV := StrToInt(edit1.Text);

                         e := SP-NV;
                         u := 0.8*e+(0.8/15)*z;
                         z := z+0.1*e;

                         edit2.Text := FloatToStr(e);
                         edit3.Text := Floattostr(u);
                         edit4.Text := Floattostr(z);
                         edit5.Text := Floattostr(SP);
               end;

       La ecuación en espacio de estado 3.37 obtenido a partir del modelado de la

dinámica del sistema, con una frecuencia de 2(10)−5 la expresamos en código con el


                                                                                      125
objetivo de aplicar un algoritmo de control a la planta. Con las funciones de control PID

y la ecuación matemática del filtro pasa bajos.

a)     Interfaz de usuario para computadoras personales

       Como medio interactivo con el usuario del sistema, diseñamos la interfaz de salida

de monitor de la PC para presentar la información obtenida de los equipos, los mensajes

de alarmas, las gráficas de tendencias de las variables del proceso objeto y valores

estadísticos que afectan al mismo. Esta información se organiza en vistas dependientes y

jerárquicas diseñadas y ordenadas por la aplicación. Estas reflejan el proceso objeto en

un todo conjunto, como así también en vistas detalladas de determinadas etapas del

proceso.

El tipo y el grado de información presentada en cada vista dependen del usuario que se

encuentre frente al sistema. Por esto, el sistema debe administrar una suerte de perfiles de

usuario para proveer a cada uno de ellos la información que le fue asignada por el

desarrollador del sistema. Las vistas estan restringidas a ciertos usuarios para asegurar la

confidencialidad de la información sensible.

       Suelen emplearse tecnologías de ultima generación para realizar vistas de tono

oscuro para una mejor interaccion del sistemas y pocibles casos de uso. En el caso de que

la vista contemple la modificación de algún parámetro sensible del proceso por parte del

operador, se suele solicita una confirmación de la acción por parte de éste. Ya sea

mediante el uso de firma electrónica o algún método de identificación confiable, trazable

y auditable en el tiempo.

       Para poder visualizar el proceso de control y seguimiento de señales se ha

diseñado el programa que estarán encargado de dibujar los puntos de seguimiento con

coordenadas de tiempo (eje x) y niveles de tensión (eje y).




                                                                                        126
              Figura 33. Visualización de señales de control Señal de control y el SETPOINT



b)     Interfaz de usuario para dispocitivo celular

       Preparando el dispocitivo. primero instalamos el driver del equipo movil, para

ello ejecutamos el instalador proporcionado por el fabricante o copiamos esas librerias en

la direccion: C:\Windows\System32.

       en el telephono movil buscamos la opcion: numero de compilacion en ajustes o

en la opcion acerca del telefono (esto varia dependiendo a la version de android instalado

y las caracteristicas de nuestro equipo movil). hacemos 7 click en esa opcion para que nos

permita estar en modo programador. ya como desarrolladores abilitamos la opcion de

depuracion de USB en opciones de desarrollo.

       Interfaz del dispocitivo celular. para el teléfono celular se diseño un panel

frontal compuesto también de pestañas, una de setpoint, otra de ganancias y una donde se

muestre la salida de los PID. Para que no sea controlado el sistema desde dos puntos

distintos, se deshabilitara el menú del control en la computadora al instante de ingresar

los datos mediante el celular. Comenzando con el panel frontal, solo se deben colocar las

pestañas e ingresar los controles, dos numéricos uno para cada setpoint, seis más para las

ganancias de los PID, y por último las gráficas.



                                                                                              127
     Figura 34. Visualización de los datos discretos de entrada, salida y el SETPOINT en la interfaz Móvil


4.1.5.2 FUNCIONES ADICIONALES DEL SISTEMA

a)     Notificaciones y alarmas

       El sistema realiza estas notificaciones generando un tipo especial de mensaje

denominado «Alarma». Una alarma es una condición de un punto de la PDB el cual ha

sobrepasado los límites prefijados para su rango normal de funcionamiento.

       Por su naturaleza esta condición requiere: la notificación al usuario del sistema y

luego el reconocimiento de él sobre la misma. De ésta manera el sistema se asegura que

alguna persona ha sido correctamente informada de la situación anómala y se espera la

corrección de la situación en el corto plazo.

b)     Programación de tareas

       Dependiendo de la naturaleza del sistema es deseable que el mismo reaccione

frente a ciertas circunstancias del proceso objeto, denominadas éstas eventos, y realice

alguna tarea previamente definida por el diseñador y acordada con los propietarios del

sistema. Estas tareas responden a un esquema de programación basada en la detección de

los eventos del sistema, o bien en el cumplimiento de un intervalo de tiempo determinado.

Eventos como la detección de una falla, alcanzar un número determinado de alarmas o
                                                                                                             128
situaciones anómalas, o el cumplimiento de una secuencia determinada suelen disparar

una notificación sobre tal evento, de manera tal que el personal responsable sea

debidamente notificado y así, tal vez, tomar alguna acción correctiva o simplemente ser

notificado.

c)     Generacion de informes

       Dentro de las finalidades más comunes de un sistema se encuentra la generación

de informes del estado actual, historia y proyecciones de los valores más críticos para el

éxito del proceso objeto. Para lograr tal fin el sistema cuenta con la posibilidad de acceder

a sus datos de tiempo real, trabajar con datos colectados para propósitos de análisis

históricos y proveer herramientas que permitan presentar el resultado del análisis a una

interfaz determinada. Esta interfaz es el mismo monitor donde el operador interactúa con

el sistema SCADA, asi tambien una impresora de papel, de manera de obtener un informe

escrito o gráfico del análisis requerido o puede tratarse de una aplicación externa al

sistema que necesite nutrirse de la información del sistema para procesarla hacia otros

niveles del sistema de gestión de información en su conjunto.

       Para la generación de informes en pantalla se cuenta con objetos de características

gráficas orientadas a la gráfica de valores en función del tiempo, en todas sus variantes y

combinaciones más comunes, gráficos de confrontación de variables (gráficos tipo XY).

También dispone de gráficos tradicionalmente estadísticos.

d)     Integración con otras aplicaciones

es deseable que el sistema tome datos de aplicaciones externas y los vuelque al proceso o

simplemente los muestre al operador del sistema. Tal es el caso del manejo de la

producción mediante recetas. Éstas suelen involucrar varios parámetros que el sistema

debe controlar, pero que varían según el proceso que el SCADA esté realizando. El

concepto de receta es el mismo que una receta de cocina. Ciertos procesos ordenados

durante determinados períodos de tiempo.

                                                                                         129
4.1.5.3 CARACTERÍSTICAS DE LAS APLICACIONES INALÁMBRICAS

       En éste punto es importante considerar la tendencia del mercado hacia el uso de

éstos dispositivos y las expectativas de las compañías para los próximos años. Estas

auguran una notable expansión del uso de redes con tecnología inalámbrica y

dispositivos móviles, a medida que la industria proporcione mejores técnicas de

seguridad que acompañen la evolución de la ciencia en éste campo. Se comprende

mejor lo que pasa en el proceso y se mejora el funcionamiento con aplicaciones

inalámbricas para: Monitorización del proceso y de los activos, Productividad del

personal y Gestión de la planta.


Monitorización remota

       Una vista segura hacia los equipos remotos permite ejecutar procedimientos

predictivos que mejoran el funcionamiento y el mantenimiento.

Condición operativa de la maquinaria
       La monitorización en línea de los equipos críticos garantiza que éstos sean

fiables y evita incidentes catastróficos.


Medición

       Detección de incrustaciones en el sensor o variaciones del proceso con tiempo

para corregir el problema.


Equipo analítico

       Los diagnósticos en línea alertan al usuario respecto a los sensores defectuosos y

riesgos ambientales.


Sistemas de seguridad




                                                                                       130
        Los sistemas integrados comprueban automáticamente todas las funciones del

lazo de seguridad para que éste siempre esté listo.


Control final

        Detección de sellos desgastados, vástago atascado o variaciones del proceso que

pudieran ocasionar interrupción del servicio.

        Se pueden tener tantos equipos inalámbricos como se desee, donde se desee. La

arquitectura escalable requiere muy poca ingeniería y muy poco diseño y se puede

implementar fácilmente




Grafica Nº 3       Las soluciones Smart Wireless reducen los costos de instalación hasta en un 90%, permitiendo al
         usuario proporcionar una rentabilidad sólida del proyecto. fuente: Emerson - proces management




                                                                                                              131
4.2    INTERPRETACIÓN DE RESULTADOS

       De acuerdo a los experimentos desarrollados y las características generales de un

sistema distribuido tenemos los siguientes resultados.

4.2.1 INTERPRETACIÓN DE RESULTADOS EN FLEXIBILIDAD

       El muestreo es distinto en cada cliente. Tenemos tres aspectos que considerar:

Muestreo directo de la señal

       La señal obtenida es altamente fiable. Considerando incluso el medio de

transmisión USB

Muestreo de la aplicación cliente conectado en la red vía cable Cat5e

       La señal obtenida es altamente fiable pero con alguna concurrencia de ruido, pero

esto aplicando el filtro digital pasa bajo hace qué la señal sea altamente fiable.


Muestreo de la aplicación cliente conectado a la red vía WI-FI

       La señal obtenida es medianamente fiable. Eso debido a que los sistemas

inalámbricos están expuestos al ruido existente en el medio que se transmite.

4.2.2 INTERPRETACIÓN DE RESULTADOS EN EFICIENCIA

       Consideramos el muestreo cableado e inalámbrico y la correlación que tiene con

la señal original. Encontramos dos aspectos:


Tiempo de respuesta mediante la acción de control vía cable Cat5e


       El resultado muestra una alta correlación y en un tiempo óptimo.


Tiempo de respuesta mediante la acción de control vía WI-FI

       El resultado muestra una mediana correlación y en un tiempo óptimo


                                                                                     132
4.2.3 INTERPRETACIÓN DE RESULTADOS EN ROBUSTEZ

Tenemos dos observaciones:


Con el reservorio encendido


       En el punto de estacionario

       El sistema se adecua óptimamente a la señal, manteniéndose esta mediante la

acción de control.


       En estados de error

       Si la planta está por encima de su capacidad, el sistema simplemente se apaga.

Esto requiere de alguna solución mecánica.

       Si el sistema está por debajo del nivel de censado, sin capacidad de accionar el

actuador. El actuador sigue prendido, lo que accionamos el control de otro modo:

periódico


Con el reservorio apagado


                El sistema inicia en modo periódico

4.2.4 INTERPRETACIÓN DE RESULTADOS EN SEGURIDAD

       La acción más aceptable es la encriptación mediante la programación. Para ello

consideramos:

       El nombre del sistema:        Consideramos las iniciales de control y supervisión

                                     multiplataforma en orden aleatorio.


       El nombre del cliente:        Las iniciales de los apellidos del cliente


       El grado del cliente:         Acción que puede ejecutar a la que está autorizado


                                                                                    133
                                 CONCLUSIONES

Primera conclusión: Los dispositivos diseñados e implementados para el censado y

lectura de nivel, satisfacen de forma óptima las necesidades requeridas del sistema,

haciendo que el sistema de control digital pueda enviar la señal de control de acuerdo al

error calculado. Además, a un periodo de muestreo de 5ms que duplica el valor normal

aceptado en las industrias y soportado por los componentes utilizados aseguramos la

mayor fiabilidad y eficiencia de todo el sistema.

Segunda conclusión: Todas las aplicaciones requeridas por el sistema, es decir: el

programa de base de datos, el programa servidor de aplicaciones y los programas cliente

para diferentes plataformas nos permiten trabajar de manera óptima y en tiempo real.

Pero, encontramos una limitante a la hora de trabajar con valores en formato hexadecimal

y en formato de ocho (8) bits, los valores que nos proporciona por defecto el dispositivo

DAQ cuando se trabaja con la interfaz USB-HID leídos directamente no son exactos, para

solucionar este inconveniente simplemente lo trabajamos con algo más de código

mediante el lenguaje Pascal.

Tercera conclusión: Las pruebas realizadas de acuerdo al plan de experimentación, y

principalmente en cuanto a control y supervisión tanto cableado e inalámbrico,

demostraron que el sistema en su conjunto, no solamente cumple con las funciones

programadas, sino que además, nos hace notas que los dispositivos utilizados y toda la

tecnóloga hoy accesible a la gran mayoría de la población, puede tener un uso realmente

industrial sin mucho presupuesto.

Cuarta conclusión: Durante el proceso de desarrollo, identificamos tres aspectos

fundamentales en la implementación de un sistema de control y supervisión: los

dispositivos de procesamiento de la planta y de computación, el software de aplicación y

la infraestructura de comunicaciones. Pero de acuerdo al modelo de comunicación
                                                                                     134
multicapas (servidor de datos, servidor de aplicaciones y la interfaz para distintos

clientes) agregada al sistema, obtenemos una mejor interacción y mayor flexibilidad de

entre los usuarios y el sistema. Además, proporcionándonos una mejor gestión en el ancho

de banda y flexibilidad para base de datos distribuidos.

Quinta conclusión: El dispositivo de muestreo y adquisición de datos es fiable de

acuerdo al código que grabemos en el PIC, pero no es determinante. Depende mucho de

la frecuencia de muestre, en el PIC y del muestreo que realiza el programa de aplicación

del cliente y de las características del dispositivo que se muestra como cliente.

Sexta conclusión:      La tarea de control y supervisión de forma cableada e inalámbrica

no son similares. Puesto que se obtuvo algún desfase de la señal más amplio en la señal

inalámbrica.

Séptima conclusión: Los equipos, materiales y arquitecturas utilizadas determinan

contundentemente la robustez del sistema en su conjunto. Exceptuando el ruido que se

procesa con la señal, puesto que el filtro es de gran ayuda para una señal digital altamente

fiable.

Octava conclusión: La conclusión más importante de este proyecto de investigación y

de acuerdo a los resultados obtenidos por medio de la implementación y experimentación

es que el sistema en su conjunto tiene un alto potencial en cuanto ofrecer prestaciones de

flexibilidad, eficiencia, robustez y seguridad.




                                                                                        135
                     SUGERENCIAS O RECOMENDACIONES


Primera sugerencia: Es necesario mejorar el sistema mecánico de la planta para que esta

pueda responder en algún punto en el que el sistema no pueda responder considerando las

herramientas tecnológicas aplicadas.

Segunda sugerencia: La acción de control distribuida se adecua de acuerdo al tipo de

planta que se controla.

Tercera sugerencia: Para clientes con plataforma móvil o Smartphone, programar la

interfaz aún más sencilla y de acuerdo a necesidades específicas.

Cuarta sugerencia: Delphi tiene el soporte técnico y profesional de embarcadero. Pero

existen herramientas de programación profesional de licencia libre y código abierto

similares a Delphi. El programa que sugiero utilizar y programar nuestras aplicaciones es

Phython administrado por la Python Software Foundation, y para Smartphone Eclipse

soportado por la Fundación Eclipse de IBM. Con el objetivo de desarrollar programas

totalmente licenciadas sin ningún costo y con un relativo profesionalismo.

Quinta sugerencia: Desarrollar un dispositivo que nos permita la adquisición de datos

mediante el protocolo TCP/IP, aumentaría exponencialmente las prestaciones del sistema.

Esto se puede desarrollas también con el PIC 18F4550 o algún otro microcontrolador que

nos permita esta comunicación de forma más simple.

Sexta sugerencia:     Es importante hacer las cosas por nuestra cuenta, o dicho de otra

manera metiendo la mano al barro, desde lo fundamental, manejar las cosas a pedal y de

esa manera garanticemos nuestro aprendizaje y crecimiento profesional, después

podemos migrar a otros programas esto cuando sepamos lo que hacemos. Reflexionemos

un momento en nuestro aprendizaje o dependencia.



                                                                                     136
Séptima sugerencia: Como propuesta para una mayor seguridad podría utilizarse un

dispositivo de mano que incluya un lector de códigos de barras de tecnología láser. El

lector reconocería un código estampado sobre una unidad determinada y el sistema le

proporcionaría información en tiempo real de la unidad que tiene frente a él.




                                                                                  137
                                 BIBLIOGRAFÍA

Guzmán Solano, Carlos Alejandro. (2011). “Diseño De Sistemas Scada Con Conexión A
       Base De Datos, Visualización Y Control En Dispositivos Móviles”, (Tesis inédita
       de maestría), Universidad De San Carlos, Guatemala.

Aguirre Zapata, David (2013) Desarrollo de un sistema SCADA para uso en pequeñas y
       medianas empresas. (Tesis Inédita)Universidad de Piura, Área Departamental de
       Ingeniería Industrial y de Sistemas.

Coral, Germán Mauricio. Amaury Rojas, Oscar & Campos, Fernando A. (2010) Sistema
       de control y supervisión industrial multiplataforma. (Tesis Inédita). Grupo en
       Automática Industrial, Universidad del Cauca.

Cázares Ayala, Gerardo. Sallas Armenta, Jesús. Castillo Meza, Hugo. Rodriguez Beltran,
       Antonio. Lugo Zavala, Sócrates & Ramirez Montenegro, Miguel. (2014) Sistema
       de control inalámbrico: diseño, construcción y aplicación en caldera industrial
       (trabajo de investigación). El Fuerte, México, Universidad Autónoma Indígena de
       México

Dogan Ibrahim, (2007). Advanced pic microcontroller proyects in C: from USB to
       ZIGBEE with the PIC 18F series. Oxford. Elsevier. Printed in the United States
       of America. doi: 978-0-7506-8611-2

Roberts, Michael J. (2005). Señales y Sistemas – análisis mediante métodos de
       transformada y MATLAB. Mexico. McGraw-Hill Interamericana editores.

Gallo, Michael A., Hancock, William M. (2002). Comunicación entre computadoras y
       tecnologías de redes. Mexico. Thomson Editores

Fastqc, Andrews S., (2010). A quality control tool for high throughput sequence data.

Gomariz, Espartacus. Viel, Domingo. Jose, Matas. Miguel, Reyes. (1998). Teoría de
       control – diseño electrónico. Barcelona. Alfaomega, editores UPC.

Revista Iberoamericana de Automática e Informática industrial 00 (2011) 1–8.
       Aplicaciones Exitosas de Control Inteligente a Casos Reales



                                                                                    138
Kuo, Benjamín C. (2006). “SISTEMAS DE CONTROL AUTOMÁTICO”. México. Edit.
       Prentice Hall.

Luis Eduardo, Garcia Jaimes. (2009). “CONTROL DIGITAL, TEORÍA Y PRACTICA”.
       Medellin. Edit. Prentice Hall.

Ogata, Katsuhiko. (1996). “SISTEMAS DE CONTROL EN TIEMPO DISCRETO”,
       Mexico, seg. edit,, Prentice Hall Hispanoameicana, S.A.

Barrientos, Antonio. (1997). “FUNDAMENTOS DE ROBÓTICA”. Madrid - España.
       Edit. McGraw-Hill.

Acebal, Mariño. (1995). “TRATAMIENTO DIGITAL DE LA SEÑAL - UNA
       INTRODUCCIÓN EXPERIMENTAL”. Barcelona, José B., Edit. UPC.

Meeus, Jean. (2005). “ASTRONOMICAL ALGORITHMS”. EE.UU. Editorial
       Willmann-Bell Seg. Edit.

Bolton, W. (2001). “MECATRÓNICA – SISTEMAS DE CONTROL ELECTRÓNICO
       EN INGENIERÍA MECÁNICA Y ELÉCTRICA”, Barcelona, Seg. Edit., Edit.
       Alfaomega.

Ricardo Hernández Gaviño. (2010). “Introducción a los sistemas de control: conceptos,
       aplicaciones y simulación con MATLAB”, Mexico, Edit. Prentice Hall, Primera
       edición.

Lafuente, Alberto. (2011). Departamento de Arquitectura y Tecnología de Computadores
       Facultad de Informática de San Sebastián Universidad del País Vasco.
       Recuperado de http://www.sc.ehu.es/acwlaroa/SDI/

Tam Malaga, Jorge. Vera, Giovanna. Oliveros Ramos, Ricardo (2008). “Tipos, métodos
       y estrategias de investigación científica”. PERÚ. Universidad Ricardo palma –
       escuela de posgrado – maestría en ecología y gestión ambiental.

Aracil, Javier. Gordillo, Francisco. (1997). “Dinámica de sistemas”. Madrid. Alianza
       Editorial, S.A.




                                                                                 139
ANEXOS




         140
                                                                   PROYECTO

                                    (Grafica de acuerdo a la teoría enfocada al proceso de implementación)

                                  Planta                                              DAQ               DB        Redes         Aplicaciones



                                                                                                                                        Control
                                                                  TFT   TL                                                   Filtros
        Sistema                    F.          E.                  C
                      Señal      Continu Diferenciales                        S. d datos                                    Algoritm
       dinámico                               No                                         Muestreo      Proces    Servido
      Fenómeno       Función     Modelado                    SF    TF        muestreados                                                  HMI
                                            lineal
                                            Lineal                                       Cuantizac       o          res        os
      varía en el   Matemática                                                 Híbridos                          Clientes
        tiempo                                                                              ion
                                    F.         E. en                                                                        Inteligen
                                                                  TFT   TZ                                                    Ruido
                                 Discreto   Diferencias
                                                                   D                                                                    Supervisi
                                                                                                                                           ón

                                           F. d         E. de Estado                            D. de Bloques
                                      transferenciaS LIT                                 Real                Simulado

                                      Dinámica            Estabilidad                            Realización




                                 Análisis                                                                      Diseño




141
        CIRCUITOS DISEÑADOS PARA EL CENSADO DE NIVEL

a)   Dispositivo DAQ




b)   Dispositivo de potencia




c)   Dispositivo DAC de 8 bits




                                                       142
COMPONENTE UTILIZADO PARA PROGRAMAR EL CONTROLADOR




                                                 143
